
[{"content":"","date":"23 April 2024","externalUrl":null,"permalink":"/","section":"No Good Father","summary":"","title":"No Good Father","type":"page"},{"content":"","date":"23 April 2024","externalUrl":null,"permalink":"/post/","section":"Posts","summary":"","title":"Posts","type":"post"},{"content":"","date":"21 April 2024","externalUrl":null,"permalink":"/categories/","section":"Categories","summary":"","title":"Categories","type":"categories"},{"content":"","date":"21 April 2024","externalUrl":null,"permalink":"/tags/milesdavis/","section":"Tags","summary":"","title":"MilesDavis","type":"tags"},{"content":"","date":"21 April 2024","externalUrl":null,"permalink":"/categories/music/","section":"Categories","summary":"","title":"Music","type":"categories"},{"content":"","date":"21 April 2024","externalUrl":null,"permalink":"/tags/","section":"Tags","summary":"","title":"Tags","type":"tags"},{"content":" いつまでも憧れ # 今、58歳で4ヶ月過ぎれば59歳になろうとしている。はじめて聴いたジャズの演奏者がMilesだった。 いつだったのかな。長兄が高校に入った頃だから小学生、5年生ぐらい。 当時はオートリターン機能もついていないレコードプレーヤーで聴いていて、長兄は聴きながら寝落ちるから演奏終了時にレコード針をあげるのが役割だった😭\nそんなこと思い出しながら `So What` 聴いている。\n日本のCMに出演していたのは何時ごろだ？ VANとTDKのCMがあったな。VANのCMは格好よくて真似したな🤣 TDKの方はうろ覚えだから、亡くなる前ぐらいかな。\nBiches Brew のジャケットアートワークとかも好きだったな。\nwww.matiklarweinart.com www.matiklarweinart.com 高校生になる頃から他のジャズプレイヤーや違うジャンルの音楽を聴いていて、Miles の晩年のファンクやロックを融合したアルバムは買ってなかった。 その代わり最近はYouTubeやサブスク1のサイトで聞き直している。\nhttps://tools.applemediaservices.com/apple-music\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"21 April 2024","externalUrl":null,"permalink":"/post/2024-b55f-0ad0/","section":"Posts","summary":"いつまでも憧れ # 今、58歳で4ヶ月過ぎれば59歳になろうとしている。はじめて聴いたジャズの演奏者がMilesだった。 いつだったのかな。長兄が高校に入った頃だから小学生、5年生ぐらい。 当時はオートリターン機能もついていないレコードプレーヤーで聴いていて、長兄は聴きながら寝落ちるから演奏終了時にレコード針をあげるのが役割だった😭","title":"ひさしぶりに Miles をききたくなった","type":"post"},{"content":"","date":"17 April 2024","externalUrl":null,"permalink":"/tags/blowfish/","section":"Tags","summary":"","title":"Blowfish","type":"tags"},{"content":"","date":"17 April 2024","externalUrl":null,"permalink":"/tags/hugo/","section":"Tags","summary":"","title":"Hugo","type":"tags"},{"content":"","date":"17 April 2024","externalUrl":null,"permalink":"/categories/ssg/","section":"Categories","summary":"","title":"SSG","type":"categories"},{"content":"表現したいこと全部できた(たぶん) 🤫\nnunocoracao/blowfish Personal Website \u0026amp; Blog Theme for Hugo JavaScript 994 299 ac1965/ac1965.github.io JavaScript 0 0 天才外科医が異世界で闇医者を始めました。 R15 残酷な描写あり 異世界転移 ハーレム 現代医学 けもみみ 異世界 医者 迷宮 医療系チート ご都合主義 関西弁主人公 異世界でやり直し 主人公最強 正妻は不動 ncode.syosetu.com ","date":"17 April 2024","externalUrl":null,"permalink":"/post/2024-abf9-45ae/","section":"Posts","summary":"表現したいこと全部できた(たぶん) 🤫","title":"ThemaをBlowfishにした","type":"post"},{"content":"","date":"30 March 2024","externalUrl":null,"permalink":"/categories/githubpages/","section":"Categories","summary":"","title":"GithubPages","type":"categories"},{"content":"世の中あまたのブログサービスのお手軽さはそれはそれで良いとしても、静的サイトジェネレータの良さもある。 動的サイトに比べレンダリング処理の必要がいらない分、表示が早いとか。 メモ帳程度の文章をツラツラ書くのに凝る必要がないから選択肢に静的サイトジェネレータを選んだ理由があった。\nドメインは自分が取得したものだが、サイトはあっちこっちホッピングした。いまはGitHub Pagesを使っている。 いままで作成したコンテンツをローカルの GitHub Pagesのリポジトリに rsync と git push をしていたけど、 それすら面倒になっているオッさんなのでPostを作成して git push したらデプロイする方向転換を模索し始めた。\ngitアカウント作成/Hugoのサイトの構築や、git絡みの設定は完了済みは前提として。\nGitHub Pagesでデプロイ # GitHub Pages について GitHub Pages deploy-page これによると GitHub Pages には2つのタイプを選べる。\nUser or Organization Site https://\u0026lt;username or organization\u0026gt;.github.io/ のURLで公開されるタイプ Project Site https://\u0026lt;username\u0026gt;.github.io/repository/ のURLで公開されるタイプ リポジトリが username.github.io 以外は後者になることがわかった。たぶん、その理解で間違っていないと思う。\nつまり、 https://gohugo.io/hosting-and-deployment/hosting-on-github/ のやり方でやると https://www.ty07.net/hugo-mysite/ のURLとして公開されることになる。 期待どおりに https://www.ty07.net のURLで公開するためには GitHub Pagesのリポジトリに rsync と git push でデプロイメントしかないのだろうか😓\nすこしたった後に思ったこと。 # actions-hugo を先に読めば、まだ理解できたかもしれない。要は、 https://\u0026lt;username\u0026gt;.github.io/ にHUGO環境を入れて GitHub Page にデプロイすれば良いことがわかった。\nところが CNAMEが正しく処理されないので、前とほぼ同じデプロイで落ち着いた。\ndeploy.sh #!/bin/bash hugo=~/Documents/devel/repos/ac1965.github.io public=~/Documents/devel/repos/deploy abort () { echo -e \u0026#34;\\033[1;30m\u0026gt;\\033[0;31m\u0026gt;\\033[1;31m\u0026gt; ERROR:\\033[0m${@}\\n\u0026#34; \u0026amp;\u0026amp; exit } info () { echo -e \u0026#34;\\033[1;30m\u0026gt;\\033[0;36m\u0026gt;\\033[1;36m\u0026gt; \\033[0m${@}\\n\u0026#34; } warn () { echo -e \u0026#34;\\033[1;30m\u0026gt;\\033[0;33m\u0026gt;\\033[1;33m\u0026gt; \\033[0m${@}\\n\u0026#34; } test -d ${hugo} \u0026amp;\u0026amp; cd ${hugo} || abort \u0026#34;${hogo} directory not found.\u0026#34; # clean public rm -fr public info \u0026#34;Deploying updates to GitHub...\u0026#34; # Build the project. hugo # if using a theme, replace with `hugo -t \u0026lt;YOURTHEME\u0026gt;` # Go To Public folder test -d ${public} \u0026amp;\u0026amp; cd ${public} || abort \u0026#34;${public} not found.\u0026#34; info \u0026#34;rsync..\u0026#34; rsync -at --delete --exclude=\u0026#34;.git\u0026#34; ${hugo}/public/. . # Add changes to git. git add . git commit -avm \u0026#34;update:$(env LANG=C date)\u0026#34; \u0026amp;\u0026amp; git push ","date":"30 March 2024","externalUrl":null,"permalink":"/post/2024-036f-d136/","section":"Posts","summary":"世の中あまたのブログサービスのお手軽さはそれはそれで良いとしても、静的サイトジェネレータの良さもある。 動的サイトに比べレンダリング処理の必要がいらない分、表示が早いとか。 メモ帳程度の文章をツラツラ書くのに凝る必要がないから選択肢に静的サイトジェネレータを選んだ理由があった。","title":"このサイトのデプロイについて","type":"post"},{"content":"","date":"23 March 2024","externalUrl":null,"permalink":"/categories/anime/","section":"Categories","summary":"","title":"Anime","type":"categories"},{"content":"","date":"23 March 2024","externalUrl":null,"permalink":"/tags/frieren/","section":"Tags","summary":"","title":"Frieren","type":"tags"},{"content":"","date":"23 March 2024","externalUrl":null,"permalink":"/tags/%E8%91%AC%E9%80%81%E3%81%AE%E3%83%95%E3%83%AA%E3%83%BC%E3%83%AC%E3%83%B3/","section":"Tags","summary":"","title":"葬送のフリーレン","type":"tags"},{"content":"葬送のフリーレンは、日本の漫画、テレビアニメ化されたものが2023.11-2024.03に放映された。 漫画の方は連載中。\n最初は訳がわからなかったけど、いやぁ面白い作品だ。\nWikipediaにある簡単なあらすじ # 魔王討伐の偉業を成し遂げ王都に凱旋した勇者ヒンメル、僧侶ハイター、戦士アイゼン、魔法使いフリーレンら勇者パーティー4人は、10年間もの旅路を振り返り感慨にふけっていたが、1000年は軽く生きる長命種のエルフであるフリーレンにとって、その旅はきわめて短いものであった。そして、50年に一度降るという「半世紀（エーラ）流星」を見た4人は、次回もそれを見る約束を交わしてパーティーを解散する。\nそれから50年後、すっかり年老いたヒンメルと再会したフリーレンは、ハイターやアイゼンとも連れ立って再び流星群を観賞する。まもなくヒンメルは亡くなるが、彼の葬儀でフリーレンは自身がヒンメルについて何も知らず、知ろうともしなかったことに気付いて涙する。その悲しみに困惑したフリーレンは、人間を知るためと魔法収集のために旅に出る。\nさらに20年後、フリーレンはもうひとりの仲間であったハイターを訪ねる。ヒンメルと同じく老い先短い身であったハイターは、魔導書の解読と戦災孤児の少女フェルンを弟子にすることを依頼。その4年後に魔導書の解読を終えたフリーレンと、一人前の魔法使いに成長したフェルンは、ハイターの最期を看取ったあとに諸国をめぐる旅に出る。\nその後フリーレンたちは、最後に訪ねた仲間であるアイゼンの助力を受けて、フリーレンの師匠にして伝説の大魔法使いフランメの手記を入手。その手記には、かつての魔王城があった大陸北端の地エンデにあるという、死者の魂と対話できる場所・オレオールの存在が記されていた。オレオールで亡きヒンメルと再会するという新たな目的ができたフリーレンは、アイゼンの弟子である少年戦士シュタルクや、行方不明の親友との再会を望む僧侶ザインという新たな仲間たちを加えて北方を目指す。\nアニメ最終話 # アニメの方は終わった。次があるのだろうか🤔\nオイサーストで開催された一級魔法使いの試験で出会った不合格の受験生との別れの後、フェルンとシュタルクから、さっぱりした別れだといわれた。フリーレンの遠い目の先には勇者一行のヒンメルの言葉を思い出していた、このシーンがアニメでは言いたいことかな。\nまたあったときに恥ずかしいからね。\nアニメ Eps.28\nでも旅を続けている以上また会うことってあるだろう。涙の別れなんてぼく達に似合わない。だって、また会ったときに恥ずかしいからね。\n- 葬送のフリーレン ヒンメル\n\u0026mdash; ɐʇıɥsɐɯɐʎ@5691ɔɐ (@ac1965) March 23, 2024 ","date":"23 March 2024","externalUrl":null,"permalink":"/post/2024-3ec3-22af/","section":"Posts","summary":"葬送のフリーレンは、日本の漫画、テレビアニメ化されたものが2023.11-2024.03に放映された。 漫画の方は連載中。","title":"葬送のフリーレン","type":"post"},{"content":"","date":"16 March 2024","externalUrl":null,"permalink":"/tags/ccz/","section":"Tags","summary":"","title":"CCZ","type":"tags"},{"content":"","date":"16 March 2024","externalUrl":null,"permalink":"/categories/wiredreearphone/","section":"Categories","summary":"","title":"WiredrEearphone","type":"categories"},{"content":"イアフォンは、それまで常用のSHUREのSE215(無印)のコネクター部分が壊れた上に、 Apple AirPods Proは落としてシャリシャリしているし SHURE AONIC 215 のMMXコネクタの接点不良で片耳が聴こえない。\nそんな状況で中華イアフォンとしては初めて昨年(2023年10月)に買った LINKSOULのKiwi Ears Dolce で有線イアフォンの深淵に浸かってしまった。\nでも、リケーブルしてDolceを使っていたけど、左耳がコネクタから外れてなくしてしまった🥲\nその次に買ったのは同じKiwiEarsの Linsoul Kiwi Ears Quartet だけどデカいのとステムが太くて常用できなかった。 Yinyoo CCZ Coffee Bean はネーミングとコスト面でAmazonでポチった👇\n寝ながらフォンとしても、音質・音圧も好みで一軍利用。\n","date":"16 March 2024","externalUrl":null,"permalink":"/post/2024-32af-0903/","section":"Posts","summary":"イアフォンは、それまで常用のSHUREのSE215(無印)のコネクター部分が壊れた上に、 Apple AirPods Proは落としてシャリシャリしているし SHURE AONIC 215 のMMXコネクタの接点不良で片耳が聴こえない。","title":"Yinyoo インイヤーモニター カナル型 CCZ Coffee Bean","type":"post"},{"content":"","date":"16 March 2024","externalUrl":null,"permalink":"/tags/%E4%B8%AD%E8%8F%AF%E3%82%A4%E3%83%A4%E3%83%95%E3%82%A9%E3%83%B3/","section":"Tags","summary":"","title":"中華イヤフォン","type":"tags"},{"content":"重たい読み物は GW には向いていない。ライトノベルだな。\n全然内容は違うが、ライトウェイトランゲージ(LL)って言葉を今の人は知らないそうだ。少なくとも俺より8歳下の職場の人は知らなかった。 インタープリタって、いうのは理解できたのだが、インタープリタの方を知らない方が多いのではと思ったから少し違和感がある。\n聖女の魔力は万能です # 聖女の魔力は万能です チート 恋愛 ファンタジー 聖女 女性視点 ラブコメ（笑） 切り替えは早い らぶらぶ？ になるといいな スルー力 壁追加しておきますね 残酷な描写あり 異世界転移 ncode.syosetu.com 読了。とはいっても、この小説は継続中なので、5月1日時点で読める分を読了が正しい。\nコミック本もアニメもある。というか、なろう系小説は、ほとんどがそのよう。\n転生したらスライムだった件 # 転生したらスライムだった件 R15 残酷な描写あり 異世界転生 スライム チート ncode.syosetu.com 読了。\nこれは4月時点で読了。アニメの方は第二シーズンに向けおやすみ中。\n無職転生 - 異世界行ったら本気だす - # 無職転生　- 異世界行ったら本気だす - R15 残酷な描写あり 異世界転生 ncode.syosetu.com なろう系小説という言葉自体を覚えたのが、この小説から。もっとも、これより前から、なろう系出身のアニメは見てたみたい。転スラがそうだな。\nこれから # GW はこれからが本番 😆\n何を次に読もうか決めていない。 この前に届いた「 ダンジョンに出会いを求めるのは間違っているだろうか」 でも読もうかな。Kindle本は読んでないものも積んでいるし😆\nダンジョンに出会いを求めるのは間違っているだろうか 17 amazon.co.jp ここから下は本文と関係なし。備忘録。\n😱 💥 🎵 🎵 💩 絵文字チート\nTODO\u0026lt;-\u0026gt;DONE (C-c C-t) Orgチート\n","date":"1 May 2021","externalUrl":null,"permalink":"/post/2021-4317-c611/","section":"Posts","summary":"重たい読み物は GW には向いていない。ライトノベルだな。","title":"2021 GW なろう系小説","type":"post"},{"content":"","date":"1 May 2021","externalUrl":null,"permalink":"/categories/novel/","section":"Categories","summary":"","title":"Novel","type":"categories"},{"content":"","date":"1 May 2021","externalUrl":null,"permalink":"/tags/%E3%81%AA%E3%82%8D%E3%81%86%E7%B3%BB%E5%B0%8F%E8%AA%AC/","section":"Tags","summary":"","title":"なろう系小説","type":"tags"},{"content":"2021年のGWに入った。今年は 4/30を休みにしたから8日連休になった :-)\n大瀧詠一さんを久しぶりに聴きたくなってググってたら、ナイアガラ・サウンドのルーツとは？というのにぶつかった。\nTBSラジオ ときめくときを。 ラジオ放送局「TBSラジオ」のサイト。TBSラジオの周波数は[AM954kHz/FM90.5MHz]。PCやスマートフォンではradiko（ラジコ）でもお聴きになれます。全国のラジオ34局ネットワー … www.tbsradio.jp 大滝詠一 Niagara Moon 30th Anniversary Edition amazon.co.jp サイトは文字だけだったので、Youtubeから音を探してみた。\n元ネタというか体に染み付いているんだろうね。ここはパクリと言ってはいけない(笑)\n君は天然色 # The Pixies Three - Cold Cold Winter\nThe Honeycombs - Color Slide\n風立ちぬ # Jimmy Clanton - Venus In Blue Jeans\n夢で逢えたら # The Shirelles - Foolish Little Girl\nうなずきマーチ # The Rivingtons - Papa Oom Mow Mow\n","date":"29 April 2021","externalUrl":null,"permalink":"/post/2021-ae45-5638/","section":"Posts","summary":"2021年のGWに入った。今年は 4/30を休みにしたから8日連休になった :-)","title":"2021 GW 大瀧詠一","type":"post"},{"content":"","date":"29 April 2021","externalUrl":null,"permalink":"/tags/%E5%A4%A7%E7%80%A7%E8%A9%A0%E4%B8%80/","section":"Tags","summary":"","title":"大瀧詠一","type":"tags"},{"content":"","date":"28 February 2021","externalUrl":null,"permalink":"/categories/eat/","section":"Categories","summary":"","title":"Eat","type":"categories"},{"content":"","date":"28 February 2021","externalUrl":null,"permalink":"/tags/%E8%B2%9D%E6%AE%BB%E5%96%AB%E8%8C%B6%E5%AE%A4/","section":"Tags","summary":"","title":"貝殻喫茶室","type":"tags"},{"content":"貝殻弁当をテイクアウトした時に、パンもテイクアウトしたいね、って店主さんの奥様に話したんだ。\n早くも、週末に実現させていただいた。パンセットを受け取りした時に奥様から、物足りないかも、と言われたけど、そんなことないです。\n","date":"28 February 2021","externalUrl":null,"permalink":"/post/2021-b683-9118/","section":"Posts","summary":"貝殻弁当をテイクアウトした時に、パンもテイクアウトしたいね、って店主さんの奥様に話したんだ。","title":"貝殻喫茶室","type":"post"},{"content":"","date":"20 February 2021","externalUrl":null,"permalink":"/categories/covid/","section":"Categories","summary":"","title":"COVID","type":"categories"},{"content":"","date":"20 February 2021","externalUrl":null,"permalink":"/tags/covid-19/","section":"Tags","summary":"","title":"Covid-19","type":"tags"},{"content":"人にとって必要なエクスペリエンスは、不要不急の中で生まれるものが多いと思う。\n不要不急を抑止されているコロナ禍の中で、人は豊かな生活を求めることができるのだろうか。\n","date":"20 February 2021","externalUrl":null,"permalink":"/post/2021-3072-328a/","section":"Posts","summary":"人にとって必要なエクスペリエンスは、不要不急の中で生まれるものが多いと思う。","title":"不要不急","type":"post"},{"content":"","date":"15 November 2020","externalUrl":null,"permalink":"/tags/iphone/","section":"Tags","summary":"","title":"Iphone","type":"tags"},{"content":"変え替え時ということで、iPhone を 8plus から 12pro に機種変更をした。 8plus からの変更で大きいのは顔認証に変わったことだが、それよりも少しだけ小さいのだが、いい感じ。 一通りアプリの復元、Walletの復元をした。 一番面倒だったのが、なんとかPay系のアプリ。これは再認証を必要とするものがあったから。\n箱から開けた # PCだけの光 # ","date":"15 November 2020","externalUrl":null,"permalink":"/post/2020-4b4f-83fe/","section":"Posts","summary":"変え替え時ということで、iPhone を 8plus から 12pro に機種変更をした。 8plus からの変更で大きいのは顔認証に変わったことだが、それよりも少しだけ小さいのだが、いい感じ。 一通りアプリの復元、Walletの復元をした。 一番面倒だったのが、なんとかPay系のアプリ。これは再認証を必要とするものがあったから。","title":"iPhone 12 Pro","type":"post"},{"content":"","date":"15 November 2020","externalUrl":null,"permalink":"/categories/mobilephone/","section":"Categories","summary":"","title":"MobilePhone","type":"categories"},{"content":" Hexo から Hugo # サイトジェネレータを Hugo に変えてみた。 インストールといっても、homebrew を使うので簡単ですが 😁\nEMOJI-CHEAT-SHEET\nインストール # Homebrew はインストール済みとして、\n$ brew update $ brew install hugo テーマは、 conao3さん の anatole-ext にした。\n$ hugo new site hoge $ cd hoge $ git clone https://github.com/conao3/anatole-ext themes/anatole-ext $ hugo new posts/first-article.md これで hoge ディレクトリーが作成され、その配下に雛形が作成される。\n自分用のメモ # 展開 # $ git clone git@github.com:ac1965/hugo.git ./hugo-blog $ cd hugo-blog $ git clone git@github.com:ac1965/anatole-ext themes/anatole-ext $ hugo hugo コマンドで、publicディレクトリ下にコンテンツが生成される。\n`deploy.sh' # hexo と大きく違うのは deploy は利用者まかせかな。\n私の環境では本体と公開用の gitリポジトリで管理していて、 本体は hugo-blog、公開用は ac1965.github.com で分けている。\n#! /bin/bash hugo=~/devel/repos/hugo-blog public=~/devel/repos/ac1965.github.io abort () { echo -e \u0026#34;\\033[1;30m\u0026gt;\\033[0;31m\u0026gt;\\033[1;31m\u0026gt; ERROR:\\033[0m${@}\\n\u0026#34; \u0026amp;\u0026amp; exit } info () { echo -e \u0026#34;\\033[1;30m\u0026gt;\\033[0;36m\u0026gt;\\033[1;36m\u0026gt; \\033[0m${@}\\n\u0026#34; } warn () { echo -e \u0026#34;\\033[1;30m\u0026gt;\\033[0;33m\u0026gt;\\033[1;33m\u0026gt; \\033[0m${@}\\n\u0026#34; } test -d ${hugo} \u0026amp;\u0026amp; cd ${hugo} || abort \u0026#34;${hogo} directory not found.\u0026#34; # clean public rm -fr public info \u0026#34;Deploying updates to GitHub...\u0026#34; # Build the project. hugo # if using a theme, replace with `hugo -t \u0026lt;YOURTHEME\u0026gt;` # Go To Public folder test -d ${public} \u0026amp;\u0026amp; cd ${public} || exit info \u0026#34;rsync..\u0026#34; rsync -at --delete --exclude=\u0026#34;.git\u0026#34; ${hugo}/public/. . # Add changes to git. git add . git commit -avm \u0026#34;update:$(env LANG=C date)\u0026#34; \u0026amp;\u0026amp; git push ","date":"27 October 2020","externalUrl":null,"permalink":"/post/2020-64ac-ab0e/","section":"Posts","summary":"Hexo から Hugo # サイトジェネレータを Hugo に変えてみた。 インストールといっても、homebrew を使うので簡単ですが 😁","title":"Hugo","type":"post"},{"content":"","date":"18 June 2016","externalUrl":null,"permalink":"/tags/tweet/","section":"Tags","summary":"","title":"Tweet","type":"tags"},{"content":" ブログってw # 毎日記録するものだから、筆不精の自分に向いていないのは知っている。 紙の日記も三日坊主だしね。\nそもそも、ブログは作っては壊して、結局ログとして残っていないのが大半なのだ。\n日記はのび太の日記になりそう。\n「眠い」 「お腹が空いた」 とか、でもそう考えると、のび太はツィッターだったらヘビー級だろうな(笑)\n","date":"18 June 2016","externalUrl":null,"permalink":"/post/2016-d5bf-eafd/","section":"Posts","summary":"ブログってw # 毎日記録するものだから、筆不精の自分に向いていないのは知っている。 紙の日記も三日坊主だしね。","title":"What Blog?","type":"post"},{"content":"","date":"7 May 2016","externalUrl":null,"permalink":"/categories/medicalcheck/","section":"Categories","summary":"","title":"MedicalCheck","type":"categories"},{"content":" 定期検診 # 今日は60日ぶりの定期検診。\n血圧は正常。主治医には「血圧だけは、正常ですね」なんて言われる有様。 お薬もいただかなくては、ゾロばかりだけど。 ","date":"7 May 2016","externalUrl":null,"permalink":"/post/2016-fbf9-cc8d/","section":"Posts","summary":"定期検診 # 今日は60日ぶりの定期検診。","title":"健康診断","type":"post"},{"content":"","date":"7 May 2016","externalUrl":null,"permalink":"/tags/%E5%81%A5%E5%BA%B7%E8%A8%BA%E6%96%AD-2016/","section":"Tags","summary":"","title":"健康診断-2016","type":"tags"},{"content":" After the school festival in 3rd year of high school, I felt heartbroken. Probably Sep 1982 About Me # I was born in 1965. Oh, Master! Please give me Laphroaig.\nSkills # Emacs Lisp Python / Perl C Node HTML / JavaScript / CSS Link # github twitter instagram Previous Nextsads ","date":"28 April 2015","externalUrl":null,"permalink":"/about/","section":"No Good Father","summary":"After the school festival in 3rd year of high school, I felt heartbroken.","title":"about","type":"page"},{"content":"","date":"28 April 2015","externalUrl":null,"permalink":"/tags/archassult/","section":"Tags","summary":"","title":"Archassult","type":"tags"},{"content":"","date":"28 April 2015","externalUrl":null,"permalink":"/categories/distribution/","section":"Categories","summary":"","title":"Distribution","type":"categories"},{"content":"","date":"28 April 2015","externalUrl":null,"permalink":"/tags/packer/","section":"Tags","summary":"","title":"Packer","type":"tags"},{"content":" すこしまとめてみる # 前提 # base は ArchLinux ISO からつくる ArchAssault の環境は repository 掘るところ位まで もちろん virtualbox、 vagrant、 packer の環境は作成済み じつのところ # Packer の細かい設定はわからん。Vagrant の box を作るパッケージであることは知っているが。 ということで、ベースの box を作ったら vagrat up でバシバシ環境をデプロイするほうがよいと思い始めている。\n作成 # $ git clone https://github.com/ac1965/archassault-packer.git $ cd archassult-packer $ packer build -only=virtualbox-iso template.json $ vagrant box add archassault packer_archassault_virtualbox.box $ vagrant init archassult $ vagrant up 手をつけているところ # Cuckoo環境の半自動生成 * Cuckooで簡易マルウェア自動解析をしよう\n* ゲストOSの準備 あらかじめに ModernIE から Linux 版の Virtualboxイメージをダウンロードして、 Python と PIL(Python Image Lirary)をインスコしておく。 cuckoo の agent.py を自動起動できるように agent.pwy にリネームして、自動起動できるようにしておく。\nreg.exe ADD \u0026#34;HKEY_LOCAL_MACHINE\\Software\\Microsoft\\Windows\\CurrentVersion\\Run\u0026#34; -v \u0026#34;Agent\u0026#34; -t REG_SZ -d \u0026#34;C:\\Python27\\agent.pyw\u0026#34; 参考 # Archlinux ArchAssault Archlinux用のPackerテンプレ オレオレ Packer ","date":"28 April 2015","externalUrl":null,"permalink":"/post/2015-92a5-278e/","section":"Posts","summary":"すこしまとめてみる # 前提 # base は ArchLinux ISO からつくる ArchAssault の環境は repository 掘るところ位まで もちろん virtualbox、 vagrant、 packer の環境は作成済み じつのところ # Packer の細かい設定はわからん。Vagrant の box を作るパッケージであることは知っているが。 ということで、ベースの box を作ったら vagrat up でバシバシ環境をデプロイするほうがよいと思い始めている。","title":"Using Packer for Archassult","type":"post"},{"content":"","date":"28 April 2015","externalUrl":null,"permalink":"/tags/hexo/","section":"Tags","summary":"","title":"Hexo","type":"tags"},{"content":"Welcome to Hexo!\n環境 # OS X Yosemite 10.10.3 Node.js git clone git://github.com/creationix/nvm.git ~/.nvm test -f ~/.nvm/nvm.sh \u0026amp;\u0026amp; source ~/.nvm/nvm.sh nvm ls-remote nvm install 0.12.2 node -v v0.12.2 前準備 # github でリポジトリほっておく。これは空っぽでよい。\n例： Macのbrewでhubをインスコしてた場合\ncd ~/Documents/github mkdir ac1965.github.io cd ac1965.github.io hub init hub create ac1965/ac1965.github.io Hexo インストール # $ npm install -g hexo 準備（ブログ用のディレクトリを作る） # hexo init フォルダ\nフォルダ指定がないと、カレントに作るのでフォルダ指定しておこう。\ncd ~/Documents $ hexo init site $ cd site $ npm install 動作確認 # $ hexo server この状態でウェブ・ブラウザから http://localhost:4000で確認してみる。\nGithub にデプロイしてみる # Hexo の 3.0 以降はどうやらデプロイがぐぐってみたのと違う。\n$ hexo deploy ERROR Deployer not found: github ようはデプロイヤが github から git に変わったのと、モジュールをインストールする必要があった。\n$ npm install hexo-deployer-git --save 詳しくは： https://github.com/hexojs/hexo/issues/1040\n参考：_config.ymlの deploy部分\ndeploy: type: git repo: git@github.com:ac1965/ac1965.github.io.git branch: master テーマを変えてみよう # テーマ で気に入ったものを探してみるとか。\n$ git clone https://github.com/joyceim/hexo-theme-apollo.git themes/apollo 参考：_config.ymlの languageとthemes 部分\nlanguage: defualt ... theme: apollo ポスト # $ hexo new \u0026#34;My New Post\u0026#34; INFO Created: ~/Documents/site/source/_posts/My-New-Post.md source/_posts/My-New-Post.md をエディタで編集（ GFM:Github Flavored Markdown）ですね。\n詳しくは： Writing\n静的ファイルの作成 # $ hexo generate $ hexo generate --deploy $ hexo deploy --generate 詳しくは： Generating\n","date":"28 April 2015","externalUrl":null,"permalink":"/post/2015-984a-97f1/","section":"Posts","summary":"Welcome to Hexo!","title":"Hexo でハロー","type":"post"},{"content":"","date":"31 July 2010","externalUrl":null,"permalink":"/categories/entertainment/","section":"Categories","summary":"","title":"Entertainment","type":"categories"},{"content":"","date":"31 July 2010","externalUrl":null,"permalink":"/tags/%E4%B8%AD%E5%B0%BE%E5%B9%B8%E4%B8%96/","section":"Tags","summary":"","title":"中尾幸世","type":"tags"},{"content":"","date":"31 July 2010","externalUrl":null,"permalink":"/tags/%E5%9B%9B%E5%AD%A3%E3%83%A6%E3%83%BC%E3%83%88%E3%83%94%E3%82%A2%E3%83%8E/","section":"Tags","summary":"","title":"四季・ユートピアノ","type":"tags"},{"content":"「四季・ユートピアノ」または「中尾幸世」という女優(朗読家)を知っているだろうか?\n「四季・ユートピアノ」とは NHKで約20年前に放映した番組の作品である。 演出は世界の 佐々木昭一郎 で中尾さんとは2回目の作品となっている。 中尾さんについての情報は 微音空間 中尾幸世に詳しく書かれている。 先週の金曜日(2010-07-30)、45年目の誕生日として自分を祝うために、渋谷のユーロスペースで開催された上映会「佐々木昭一郎というジャンル」の最終日を観賞した。 当日は中尾幸世さんがトークするという情報があったので前売を早めに取った。 お蔭様で満員のユーロスペースでよい席で「四季・ユートピアノ」を懐かしく観れた。\nYouTube 四季・ユートピアノ YouTubeのみで再生なので、「YouTubeで見る」をクリックして懐かしい映像をお楽しみに。\n","date":"31 July 2010","externalUrl":null,"permalink":"/post/2010-ae11-dbbf/","section":"Posts","summary":"「四季・ユートピアノ」または「中尾幸世」という女優(朗読家)を知っているだろうか?","title":"四季・ユートピアノ 中尾幸世さん","type":"post"},{"content":"","date":"16 July 2010","externalUrl":null,"permalink":"/tags/guruplug/","section":"Tags","summary":"","title":"Guruplug","type":"tags"},{"content":"","date":"16 July 2010","externalUrl":null,"permalink":"/categories/guruplug/","section":"Categories","summary":"","title":"Guruplug","type":"categories"},{"content":" guruplug が届いてから遊んだこと # U-Bootのアップデート Kernelのアップデート Debian RFS から Gentoo RFS に変更 以上は、確認ずみ。まぁ、いつもすることじゃないので放っておこう。\nwiki にあることで十分。Gentoo RFS については、感単なのは stage3 を持ってくることかな。 インストについては x86 とかと同じ。\n参考にしたポイント\nhttp://mark.ossdl.de/2009/09/gentoo-on-the-sheevaplug/ 進行形 # Pyblosxom + Paste + Nginx python アプリ関係ソフトの、KEYWORD が \u0026ldquo;arm\u0026rdquo; または \u0026ldquo;~arm\u0026rdquo; がついていないでやんの。\nKEYWORD を無効にしてから、Nginx をインストールして、動作するまでは確認した。 Nginx の評判通り(軽くて/早い)ではない動作なので調整中。\nNginx + paster + Pyblosxom での動作は確認できたが、 唯一 wbgpager がダメだった。\nトライするのが面倒だったので、 Apache + mod_wsgi + Pyblosxom で現在は動作している。[2010-07-19 Mon]\n将来 # HoneyPod の実装 GuruPlug でのアイデアソリューションとして、 やりたいことは HoneyPod の実装なんだな。体感的に、そんなに遅いマシンではないので期待しちゃっているのだが、 Nginx が上手く動作していないので期待は遠い。\nあと iptables が kernel が変わってきちんと動作するかだな。\niptables は問題なく動作した。honeyd も動作した。 あとは、ルータで honeyd の virtual-honeypots に食わせるだけだ。\nでも、mwcollect が SIGSEGV で落ちている。[2010-07-19 Mon]\n最後に前回の宿題 # 耐久レースは(届いてから(今週月曜日)カーネル変更とかして)、実質約4日間の体感になるが、 全く問題なし。熱暴走はまだないが、USBスティックが熱い感じ。\nマシンの熱さは、某掲示板で騒がれるほど酷く熱くはない。 問題になっているのは GuruPlug PLUS (odd: ethx2 + eSTA) だけどね。\n[現在の GuruPlug Std.] U-Boot #+BEGIN_SRC sh U-Boot 2010.03-01266-g42f7128 (Jul 14 2010 - 10:09:06) Marvell-GuruPlug\nSoC: Kirkwood 88F6281_A0 DRAM: 512 MB NAND: 512 MiB In: serial Out: serial Err: serial Net: egiga0, egiga1 88E1121 Initialized on egiga0 88E1121 Initialized on egiga1 Hit any key to stop autoboot: 3 \b\b\b 2 \b\b\b 1 \b\b\b 0\nMarvell\u0026raquo; help\n? - alias for \u0026lsquo;help\u0026rsquo; base - print or set address offset bdinfo - print Board Info structure boot - boot default, i.e., run \u0026lsquo;bootcmd\u0026rsquo; bootd - boot default, i.e., run \u0026lsquo;bootcmd\u0026rsquo; bootm - boot application image from memory bootp - boot image via network using BOOTP/TFTP protocol cmp - memory compare coninfo - print console devices and information cp - memory copy crc32 - checksum calculation dhcp - boot image via network using DHCP/TFTP protocol echo - echo args to console editenv - edit environment variable fatinfo - print information about filesystem fatload - load binary file from a dos filesystem fatls - list files in a directory (default /) go - start application at address \u0026lsquo;addr\u0026rsquo; help - print command description/usage iminfo - print header information for application image imxtract- extract a part of a multi-image itest - return true/false on integer compare loadb - load binary file over serial line (kermit mode) loads - load S-Record file over serial line loady - load binary file over serial line (ymodem mode) loop - infinite loop on address range md - memory display mii - MII utility commands mm - memory modify (auto-incrementing address) mtest - simple RAM read/write test mw - memory write (fill) nand - NAND sub-system nboot - boot from NAND device nfs - boot image via network using NFS protocol nm - memory modify (constant address) ping - send ICMP ECHO_REQUEST to network host printenv- print environment variables rarpboot- boot image via network using RARP/TFTP protocol reset - Perform RESET of the CPU run - run commands in an environment variable saveenv - save environment variables to persistent storage setenv - set environment variables sleep - delay execution for some time source - run script from memory tftpboot- boot image via network using TFTP protocol usb - USB sub-system usbboot - boot from USB device version - print monitor version\nMarvell\u0026raquo; printenv\nbootcmd=${x_bootcmd_usb}; ${x_bootcmd_kernel}; setenv bootargs ${x_bootargs} ${x_bootargs_root}; bootm 0x6400000; bootdelay=3 baudrate=115200 x_bootcmd_usb=usb start x_bootcmd_kernel=nand read.e 0x6400000 0x100000 0x400000 x_bootargs=console=ttyS0,115200 ethaddr=02:50:43:0a:b6:e1 ipaddr=192.168.1.2 serverip=192.168.1.123 mainlineLinux=yes ethact=egiga0 x_bootargs_root_factory=ubi.mtd=2 root=ubi0:rootfs rootfstype=ubifs x_bootargs_root=rootwait root=/dev/sda2 stdin=serial stdout=serial stderr=serial eth1addr=02:50:43:7d:f2:4a\nMarvell\u0026raquo; base\nBase Address: 0x00000000 Marvell\u0026raquo; bdinfo\narch_number = 0x00000A63 env_t = 0x00000000 boot_params = 0x00000100 DRAM bank = 0x00000000 -\u0026gt; start = 0x00000000 -\u0026gt; size = 0x10000000 DRAM bank = 0x00000001 -\u0026gt; start = 0x10000000 -\u0026gt; size = 0x10000000 DRAM bank = 0x00000002 -\u0026gt; start = 0x00000000 -\u0026gt; size = 0x00000000 DRAM bank = 0x00000003 -\u0026gt; start = 0x00000000 -\u0026gt; size = 0x00000000 ethaddr = 02:50:43:0a:b6:e1 ip_addr = 192.168.1.2 baudrate = 115200 bps\nMarvell\u0026raquo; usb start\n(Re)start USB\u0026hellip; USB: Register 10011 NbrPorts 1 USB EHCI 1.00 scanning bus for devices\u0026hellip; 3 USB Device(s) found scanning bus for storage devices\u0026hellip; Device NOT ready Request Sense returned 00 00 00 1 Storage Device(s) found Marvell\u0026raquo; usb tree\nDevice Tree: 1 Hub (480 Mb/s, 0mA) | u-boot EHCI Host Controller | |\b+-2 Hub (480 Mb/s, 100mA) | USB2.0 Hub | |\b+-3 Mass Storage (480 Mb/s, 200mA) TDKMedia Transit 079C0903D5C8B88A #+END_SRC\nKernel Boot #+BEGIN_SRC sh U-Boot 2010.03-01266-g42f7128 (Jul 14 2010 - 10:09:06) Marvell-GuruPlug\nSoC: Kirkwood 88F6281_A0 DRAM: 512 MB NAND: 512 MiB In: serial Out: serial Err: serial Net: egiga0, egiga1 88E1121 Initialized on egiga0 88E1121 Initialized on egiga1 Hit any key to stop autoboot: 3 \b\b\b 2 \b\b\b 1 \b\b\b 0 (Re)start USB\u0026hellip; USB: Register 10011 NbrPorts 1 USB EHCI 1.00 scanning bus for devices\u0026hellip; 3 USB Device(s) found scanning bus for storage devices\u0026hellip; Device NOT ready Request Sense returned 00 00 00 1 Storage Device(s) found\nNAND read: device 0 offset 0x100000, size 0x400000 4194304 bytes read: OK\nBooting kernel from Legacy Image at 06400000 \u0026hellip; # Image Name: Linux-2.6.33.2-dirty Image Type: ARM Linux Kernel Image (uncompressed) Data Size: 2669044 Bytes = 2.5 MB Load Address: 00008000 Entry Point: 00008000 Verifying Checksum ... OK Loading Kernel Image ... OK OK\nStarting kernel \u0026hellip;\nUncompressing Linux\u0026hellip; done, booting the kernel. Linux version 2.6.33.2-dirty (tjy@mybox) (gcc version 4.3.3 (Gentoo 4.3.3-r2 p1.2, pie-10.1.5) ) #1 PREEMPT Wed Jul 14 10:28:55 JST 2010 CPU: Feroceon 88FR131 [56251311] revision 1 (ARMv5TE), cr=00053977 CPU: VIVT data cache, VIVT instruction cache Machine: Marvell GuruPlug Reference Board Memory policy: ECC disabled, Data cache writeback Built 1 zonelists in Zone order, mobility grouping on. Total pages: 130048 Kernel command line: console=ttyS0,115200 rootwait root=/dev/sda2 PID hash table entries: 2048 (order: 1, 8192 bytes) Dentry cache hash table entries: 65536 (order: 6, 262144 bytes) Inode-cache hash table entries: 32768 (order: 5, 131072 bytes) Memory: 256MB 256MB = 512MB total Memory: 513664KB available (4760K code, 862K data, 140K init, 0K highmem) SLUB: Genslabs=11, HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1 Hierarchical RCU implementation. NR_IRQS:114 Console: colour dummy device 80x30 Calibrating delay loop\u0026hellip; 1192.75 BogoMIPS (lpj=5963776) Mount-cache hash table entries: 512 CPU: Testing write buffer coherency: ok NET: Registered protocol family 16 Kirkwood: MV88F6281-A1, TCLK=200000000. Feroceon L2: Cache support initialised. bio: create slab at 0 vgaarb: loaded SCSI subsystem initialized usbcore: registered new interface driver usbfs usbcore: registered new interface driver hub usbcore: registered new device driver usb cfg80211: Using static regulatory domain info cfg80211: Regulatory domain: 00 (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp) (2402000 KHz - 2472000 KHz @ 40000 KHz), (600 mBi, 2000 mBm) (2457000 KHz - 2482000 KHz @ 20000 KHz), (600 mBi, 2000 mBm) (2474000 KHz - 2494000 KHz @ 20000 KHz), (600 mBi, 2000 mBm) (5170000 KHz - 5250000 KHz @ 40000 KHz), (600 mBi, 2000 mBm) (5735000 KHz - 5835000 KHz @ 40000 KHz), (600 mBi, 2000 mBm) cfg80211: Calling CRDA to update world regulatory domain Switching to clocksource orion_clocksource NET: Registered protocol family 2 IP route cache hash table entries: 4096 (order: 2, 16384 bytes) TCP established hash table entries: 16384 (order: 5, 131072 bytes) TCP bind hash table entries: 16384 (order: 4, 65536 bytes) TCP: Hash tables configured (established 16384 bind 16384) TCP reno registered UDP hash table entries: 256 (order: 0, 4096 bytes) UDP-Lite hash table entries: 256 (order: 0, 4096 bytes) NET: Registered protocol family 1 RPC: Registered udp transport module. RPC: Registered tcp transport module. RPC: Registered tcp NFSv4.1 backchannel transport module. JFFS2 version 2.2. (NAND) 息 2001-2006 Red Hat, Inc. JFS: nTxBlock = 4014, nTxLock = 32116 msgmni has been set to 1003 alg: No test for stdrng (krng) io scheduler noop registered io scheduler deadline registered io scheduler cfq registered (default) Serial: 8250/16550 driver, 2 ports, IRQ sharing disabled serial8250.0: ttyS0 at MMIO 0xf1012000 (irq = 33) is a 16550A console [ttyS0] enabled brd: module loaded loop: module loaded NAND device: Manufacturer ID: 0xec, Chip ID: 0xdc (Samsung NAND 512MiB 3,3V 8-bit) Scanning device for bad blocks Creating 3 MTD partitions on \u0026ldquo;orion_nand\u0026rdquo;: 0x000000000000-0x000000100000 : \u0026ldquo;u-boot\u0026rdquo; 0x000000100000-0x000000500000 : \u0026ldquo;uImage\u0026rdquo; 0x000000500000-0x000020000000 : \u0026ldquo;root\u0026rdquo; MV-643xx 10/100/1000 ethernet driver version 1.4 mv643xx_eth smi: probed net eth0: port 0 with MAC address 02:50:43:0a:b6:e1 net eth1: port 0 with MAC address 02:50:43:2d:3b:5d ehci_hcd: USB 2.0 \u0026lsquo;Enhanced\u0026rsquo; Host Controller (EHCI) Driver orion-ehci orion-ehci.0: Marvell Orion EHCI orion-ehci orion-ehci.0: new USB bus registered, assigned bus number 1 orion-ehci orion-ehci.0: irq 19, io mem 0xf1050000 orion-ehci orion-ehci.0: USB 2.0 started, EHCI 1.00 hub 1-0:1.0: USB hub found hub 1-0:1.0: 1 port detected Initializing USB Mass Storage driver\u0026hellip; usbcore: registered new interface driver usb-storage USB Mass Storage support registered. usbcore: registered new interface driver ums-datafab usbcore: registered new interface driver ums-freecom usbcore: registered new interface driver ums-jumpshot usbcore: registered new interface driver ums-sddr09 usbcore: registered new interface driver ums-sddr55 mice: PS/2 mouse device common for all mice rtc-mv rtc-mv: rtc core: registered rtc-mv as rtc0 i2c /dev entries driver cpuidle: using governor ladder cpuidle: using governor menu sdhci: Secure Digital Host Controller Interface driver sdhci: Copyright(c) Pierre Ossman mmc0: mvsdio driver initialized, lacking card detect (fall back to polling) Registered led device: guruplug:red:health Registered led device: guruplug:green:health Registered led device: guruplug:red:wmode Registered led device: guruplug:green:wmode mv_xor_shared mv_xor_shared.0: Marvell shared XOR driver mv_xor_shared mv_xor_shared.1: Marvell shared XOR driver mv_xor mv_xor.0: Marvell XOR: ( xor cpy ) mmc0: new high speed SDIO card at address 0001 mv_xor mv_xor.1: Marvell XOR: ( xor fill cpy ) mv_xor mv_xor.2: Marvell XOR: ( xor cpy ) mv_xor mv_xor.3: Marvell XOR: ( xor fill cpy ) usbcore: registered new interface driver hiddev usbcore: registered new interface driver usbhid usbhid: USB HID core driver oprofile: using timer interrupt. TCP cubic registered NET: Registered protocol family 17 lib80211: common routines for IEEE802.11 drivers rtc-mv rtc-mv: setting system clock to 2079-02-19 11:43:05 UTC (3444032585) Waiting for root device /dev/sda2\u0026hellip; usb 1-1: new high speed USB device using orion-ehci and address 2 hub 1-1:1.0: USB hub found hub 1-1:1.0: 4 ports detected usb 1-1.2: new high speed USB device using orion-ehci and address 3 scsi0 : usb-storage 1-1.2:1.0 scsi 0:0:0:0: Direct-Access TDKMedia Transit PMAP PQ: 0 ANSI: 0 CCS sd 0:0:0:0: Attached scsi generic sg0 type 0 sd 0:0:0:0: [sda] 15638528 512-byte logical blocks: (8.00 GB/7.45 GiB) sd 0:0:0:0: [sda] Write Protect is off sd 0:0:0:0: [sda] Assuming drive cache: write through sd 0:0:0:0: [sda] Assuming drive cache: write through sda: sda1 sda2 sda3 sda4 sd 0:0:0:0: [sda] Assuming drive cache: write through sd 0:0:0:0: [sda] Attached SCSI removable disk EXT3-fs (sda2): warning: checktime reached, running e2fsck is recommended kjournald starting. Commit interval 5 seconds EXT3-fs (sda2): using internal journal EXT3-fs (sda2): mounted filesystem with writeback data mode VFS: Mounted root (ext3 filesystem) on device 8:2. Freeing init memory: 140K\nINIT: version 2.87 booting \u0026hellip;. (SNIP) \u0026hellip; #+END_SRC\nRunning System #+BEGIN_EXAMPLE HumptyDumpty ~ # uname -a Linux HumptyDumpty 2.6.33.2-dirty #1 PREEMPT Wed Jul 14 10:28:55 JST 2010 armv5tel Feroceon 88FR131 rev 1 (v5l) Marvell GuruPlug Reference Board GNU/Linux\nHumptyDumpty ~ # cat /proc/mtd dev: size erasesize name mtd0: 00100000 00020000 \u0026ldquo;u-boot\u0026rdquo; mtd1: 00400000 00020000 \u0026ldquo;uImage\u0026rdquo; mtd2: 1fb00000 00020000 \u0026ldquo;root\u0026rdquo;\nHumptyDumpty ~ # ifconfig -a eth0 Link encap:Ethernet HWaddr 02:50:43:0a:b6:e1 inet addr:192.168.1.2 Bcast:192.168.1.255 Mask:255.255.255.0 UP BROADCAST RUNNING MULTICAST MTU:1500 Metric:1 RX packets:77 errors:0 dropped:0 overruns:0 frame:0 TX packets:82 errors:0 dropped:0 overruns:0 carrier:0 collisions:0 txqueuelen:1000 RX bytes:10062 (9.8 KiB) TX bytes:6936 (6.7 KiB) Interrupt:11\neth1 Link encap:Ethernet HWaddr 02:50:43:2d:3b:5d BROADCAST MULTICAST MTU:1500 Metric:1 RX packets:0 errors:0 dropped:0 overruns:0 frame:0 TX packets:0 errors:0 dropped:0 overruns:0 carrier:0 collisions:0 txqueuelen:1000 RX bytes:0 (0.0 B) TX bytes:0 (0.0 B) Interrupt:15\nlo Link encap:Local Loopback inet addr:127.0.0.1 Mask:255.0.0.0 UP LOOPBACK RUNNING MTU:16436 Metric:1 RX packets:0 errors:0 dropped:0 overruns:0 frame:0 TX packets:0 errors:0 dropped:0 overruns:0 carrier:0 collisions:0 txqueuelen:0 RX bytes:0 (0.0 B) TX bytes:0 (0.0 B)\nHumptyDumpty ~ # netstat -nlp Active Internet connections (only servers) Proto Recv-Q Send-Q Local Address Foreign Address State PID/Program name tcp 0 0 127.0.0.1:5000 0.0.0.0:* LISTEN 1456/python2.6 tcp 0 0 0.0.0.0:80 0.0.0.0:* LISTEN 1364/nginx.conf tcp 0 0 0.0.0.0:22 0.0.0.0:* LISTEN 1411/sshd udp 0 0 192.168.1.2:123 0.0.0.0:* 1391/ntpd udp 0 0 127.0.0.1:123 0.0.0.0:* 1391/ntpd udp 0 0 0.0.0.0:123 0.0.0.0:* 1391/ntpd Active UNIX domain sockets (only servers) Proto RefCnt Flags Type State I-Node PID/Program name Path unix 2 [ ACC ] STREAM LISTENING 2109 1348/syslog-ng /dev/log unix 2 [ ACC ] STREAM LISTENING 2114 1348/syslog-ng /var/run/syslog-ng.ctl\nHumptyDumpty ~ # cat /proc/filesystems nodev sysfs nodev rootfs nodev bdev nodev proc nodev tmpfs nodev debugfs nodev sockfs nodev usbfs nodev pipefs nodev anon_inodefs nodev rpc_pipefs nodev inotifyfs nodev devpts ext3 ext2 ext4 cramfs nodev ramfs vfat msdos nodev nfs nodev nfs4 nodev jffs2 jfs nodev oprofilefs nodev ubifs\nHumptyDumpty ~ # ps -ef UID PID PPID C STIME TTY TIME CMD root 1 0 0 08:51 ? 00:00:00 init [3] root 2 0 0 08:51 ? 00:00:00 [kthreadd] root 3 2 0 08:51 ? 00:00:00 [ksoftirqd/0] root 4 2 0 08:51 ? 00:00:00 [watchdog/0] root 5 2 0 08:51 ? 00:00:00 [events/0] root 6 2 0 08:51 ? 00:00:00 [khelper] root 9 2 0 08:51 ? 00:00:00 [async/mgr] root 131 2 0 08:51 ? 00:00:00 [sync_supers] root 133 2 0 08:51 ? 00:00:00 [bdi-default] root 135 2 0 08:51 ? 00:00:00 [kblockd/0] root 141 2 0 08:51 ? 00:00:00 [ata/0] root 142 2 0 08:51 ? 00:00:00 [ata_aux] root 146 2 0 08:51 ? 00:00:00 [ksuspend_usbd] root 151 2 0 08:51 ? 00:00:00 [khubd] root 154 2 0 08:51 ? 00:00:00 [kseriod] root 157 2 0 08:51 ? 00:00:00 [kmmcd] root 167 2 0 08:51 ? 00:00:00 [cfg80211] root 178 2 0 08:51 ? 00:00:00 [rpciod/0] root 186 2 0 08:51 ? 00:00:00 [khungtaskd] root 187 2 0 08:51 ? 00:00:00 [kswapd0] root 232 2 0 08:51 ? 00:00:00 [aio/0] root 245 2 0 08:51 ? 00:00:00 [nfsiod] root 253 2 0 08:51 ? 00:00:00 [jfsIO] root 254 2 0 08:51 ? 00:00:00 [jfsCommit] root 255 2 0 08:51 ? 00:00:00 [jfsSync] root 256 2 0 08:51 ? 00:00:00 [crypto/0] root 431 2 0 08:51 ? 00:00:00 [mtdblockd] root 447 2 0 08:51 ? 00:00:00 [orion_spi] root 537 2 0 08:51 ? 00:00:00 [usbhid_resumer] root 552 2 0 08:51 ? 00:00:00 [scsi_eh_0] root 553 2 0 08:51 ? 00:00:00 [usb-storage] root 571 2 0 08:51 ? 00:00:00 [kjournald] root 587 2 0 08:51 ? 00:00:00 [flush-8:0] root 672 1 0 08:51 ? 00:00:00 /sbin/udevd \u0026ndash;daemon root 701 2 0 08:51 ? 00:00:00 [mv_crypto] root 756 2 0 08:51 ? 00:00:00 [bluetooth] root 763 2 0 08:51 ? 00:00:00 [scsi_eh_1] root 884 2 0 08:51 ? 00:00:00 [kjournald] root 1244 1 0 08:51 ? 00:00:00 dhcpcd -t 10 -m 2 eth0 root 1347 1 0 08:51 ? 00:00:00 supervising syslog-ng root 1348 1347 0 08:51 ? 00:00:00 /usr/sbin/syslog-ng root 1364 1 0 08:51 ? 00:00:00 nginx: master process /usr/sbin/ nginx 1366 1364 0 08:51 ? 00:00:00 nginx: worker process root 1391 1 0 08:51 ? 00:00:00 /usr/sbin/ntpd -p /var/run/ntpd. root 1411 1 0 08:51 ? 00:00:00 /usr/sbin/sshd root 1441 1 0 08:51 ? 00:00:00 /usr/sbin/cron tjy 1456 1 0 08:51 ? 00:00:00 /home/tjy/vp/bin/python2.6 /home root 1458 1 0 08:51 tty1 00:00:00 /sbin/agetty 38400 tty1 linux root 1459 1 0 08:51 tty2 00:00:00 /sbin/agetty 38400 tty2 linux root 1460 1 0 08:51 tty3 00:00:00 /sbin/agetty 38400 tty3 linux root 1461 1 0 08:51 tty4 00:00:00 /sbin/agetty 38400 tty4 linux root 1462 1 0 08:51 tty5 00:00:00 /sbin/agetty 38400 tty5 linux root 1463 1 0 08:51 tty6 00:00:00 /sbin/agetty 38400 tty6 linux root 1464 1 0 08:51 ttyS0 00:00:00 /bin/login \u0026ndash; root 1470 1464 0 08:52 ttyS0 00:00:00 -bash root 1483 1470 0 08:53 ttyS0 00:00:00 ps -ef #+END_EXAMPLE\nInstalled Packages #+BEGIN_EXAMPLE app-admin/eselect-1.2.10 app-admin/eselect-ctags-1.13 app-admin/eselect-emacs-1.13 app-admin/eselect-python-20100321 app-admin/logrotate-3.7.8 app-admin/perl-cleaner-2.2 app-admin/python-updater-0.8 app-admin/sudo-1.7.2_p7 app-admin/syslog-ng-3.1.1 app-arch/bzip2-1.0.5-r1 app-arch/cpio-2.11 app-arch/gzip-1.4 app-arch/tar-1.23-r2 app-arch/xz-utils-4.999.9_beta app-editors/emacs-23.1-r3 app-editors/gentoo-editor-2 app-editors/nano-2.2.4 app-emacs/emacs-common-gentoo-1.2 app-misc/ca-certificates-20090709 app-misc/mime-types-8 app-misc/pax-utils-0.1.19 app-misc/realpath-1.15-r1 app-portage/eix-0.19.2 app-portage/genlop-0.30.8-r2 app-portage/gentoolkit-0.2.4.6.1-r1 app-portage/portage-utils-0.3.1 app-shells/bash-4.0_p37 dev-db/libdrizzle-0.8-r1 dev-db/sqlite-3.6.22-r2 dev-lang/perl-5.10.1 dev-lang/python-2.6.4-r1 dev-libs/apr-1.3.9 dev-libs/apr-util-1.3.9 dev-libs/dbus-glib-0.86 dev-libs/eventlog-0.2.10 dev-libs/expat-2.0.1-r3 dev-libs/geoip-1.4.6 dev-libs/glib-2.22.4 dev-libs/gmp-4.3.2 dev-libs/libatomic_ops-1.2-r1 dev-libs/libffi-3.0.9 dev-libs/libgcrypt-1.4.5 dev-libs/libgpg-error-1.7 dev-libs/libpcre-7.9-r1 dev-libs/libpthread-stubs-0.1 dev-libs/libtasn1-2.7 dev-libs/libusb-0.1.12-r5 dev-libs/libxml2-2.7.7 dev-libs/libxslt-1.1.26 dev-libs/mpfr-2.4.2_p3 dev-libs/openssl-0.9.8o dev-libs/popt-1.15 dev-perl/Authen-SASL-2.12 dev-perl/Crypt-SSLeay-0.57 dev-perl/DateManip-5.56 dev-perl/Digest-HMAC-1.01-r1 dev-perl/Digest-SHA1-2.12 dev-perl/Error-0.17.016 dev-perl/HTML-Parser-3.64 dev-perl/HTML-Tagset-3.20 dev-perl/HTML-Tree-3.23 dev-perl/IO-Socket-SSL-1.33 dev-perl/Locale-gettext-1.05-r1 dev-perl/Net-SMTP-SSL-1.01 dev-perl/Net-SSLeay-1.36 dev-perl/TermReadKey-2.30 dev-perl/URI-1.38 dev-perl/YAML-Tiny-1.41 dev-perl/libwww-perl-5.834-r1 dev-python/setuptools-0.6.12 dev-python/virtualenv-1.4.9 dev-util/gperf-3.0.4 dev-util/pkgconfig-0.23 dev-vcs/git-1.6.4.4 dev-vcs/subversion-1.6.11 mail-mta/ssmtp-2.62-r7 media-sound/alsa-headers-1.0.21 net-dns/openresolv-3.3.4 net-libs/gnutls-2.8.6 net-libs/liblockfile-1.08 net-libs/neon-0.29.3 net-mail/mailbase-1 net-misc/curl-7.20.0-r2 net-misc/dhcpcd-5.1.2-r1 net-misc/iputils-20071127 net-misc/ntp-4.2.4_p7-r1 net-misc/openssh-5.3_p1-r1 net-misc/rsync-3.0.6 net-misc/wget-1.12 perl-core/Archive-Tar-1.54 perl-core/Compress-Raw-Bzip2-2.021 perl-core/Compress-Raw-Zlib-2.021 perl-core/Digest-MD5-2.39 perl-core/ExtUtils-CBuilder-0.27.03 perl-core/ExtUtils-ParseXS-2.22.05 perl-core/IO-Compress-2.021 perl-core/IO-Zlib-1.09 perl-core/MIME-Base64-3.08 perl-core/Module-Build-0.36.07 perl-core/Package-Constants-0.02 perl-core/Scalar-List-Utils-1.21 perl-core/Test-Harness-3.17 perl-core/digest-base-1.16 perl-core/libnet-1.22 sys-apps/acl-2.2.49 sys-apps/attr-2.4.43 sys-apps/baselayout-2.0.1 sys-apps/busybox-1.15.3 sys-apps/coreutils-8.4 sys-apps/dbus-1.2.24 sys-apps/debianutils-3.1.3 sys-apps/diffutils-2.8.7-r2 sys-apps/file-5.03 sys-apps/findutils-4.4.2 sys-apps/gawk-3.1.6 sys-apps/grep-2.5.4-r1 sys-apps/groff-1.20.1-r1 sys-apps/help2man-1.37.1 sys-apps/iproute2-2.6.31 sys-apps/kbd-1.15 sys-apps/less-436 sys-apps/man-1.6f-r3 sys-apps/man-pages-3.24 sys-apps/man-pages-posix-2003a sys-apps/module-init-tools-3.5 sys-apps/net-tools-1.60_p20090728014017-r1 sys-apps/openrc-0.6.0-r1 sys-apps/pciutils-3.1.4 sys-apps/portage-2.1.8.3 sys-apps/sandbox-1.6-r2 sys-apps/sed-4.2 sys-apps/shadow-4.1.2.2 sys-apps/sysvinit-2.87-r3 sys-apps/tcp-wrappers-7.6-r8 sys-apps/texinfo-4.13 sys-apps/usbutils-0.86-r1 sys-apps/util-linux-2.16.2 sys-apps/which-2.20 sys-auth/consolekit-0.3.0-r2 sys-auth/pambase-20100310 sys-devel/autoconf-2.65 sys-devel/autoconf-wrapper-8 sys-devel/automake-1.11.1 sys-devel/automake-wrapper-4 sys-devel/bc-1.06.95 sys-devel/binutils-2.20.1-r1 sys-devel/binutils-config-1.9-r4 sys-devel/bison-2.4.1 sys-devel/flex-2.5.35 sys-devel/gcc-4.4.3-r2 sys-devel/gcc-config-1.4.1 sys-devel/gettext-0.17-r1 sys-devel/gnuconfig-20100122 sys-devel/libperl-5.10.1 sys-devel/libtool-2.2.6b sys-devel/m4-1.4.12 sys-devel/make-3.81 sys-devel/patch-2.5.9 sys-fs/e2fsprogs-1.41.11 sys-fs/fuse-2.8.1 sys-fs/sshfs-fuse-2.2 sys-fs/udev-151-r1 sys-kernel/linux-headers-2.6.32 sys-libs/cracklib-2.8.15 sys-libs/db-4.7.25_p4 sys-libs/e2fsprogs-libs-1.41.11 sys-libs/gdbm-1.8.3-r4 sys-libs/glibc-2.11.2 sys-libs/ncurses-5.7-r3 sys-libs/pam-1.1.1-r2 sys-libs/readline-6.1 sys-libs/timezone-data-2010i sys-libs/zlib-1.2.3-r1 sys-process/cronbase-0.3.2-r1 sys-process/procps-3.2.8 sys-process/psmisc-22.10 sys-process/vixie-cron-4.1-r10 virtual/acl-0 virtual/editor-0 virtual/emacs-23 virtual/init-0 virtual/libffi-0 virtual/libiconv-0 virtual/libintl-0 virtual/libusb-0 virtual/pager-0 virtual/perl-Archive-Tar-1.54 virtual/perl-Compress-Raw-Bzip2-2.021 virtual/perl-Compress-Raw-Zlib-2.021 virtual/perl-Digest-MD5-2.39 virtual/perl-ExtUtils-CBuilder-0.27.03 virtual/perl-ExtUtils-ParseXS-2.22.05 virtual/perl-IO-Compress-2.021 virtual/perl-IO-Zlib-1.09 virtual/perl-MIME-Base64-3.08 virtual/perl-Module-Build-0.36.07 virtual/perl-Package-Constants-0.02 virtual/perl-Scalar-List-Utils-1.21 virtual/perl-Test-Harness-3.17 virtual/perl-digest-base-1.16 virtual/perl-libnet-1.22 www-client/lynx-2.8.8_pre2 www-servers/nginx-0.8.42 www-servers/uwsgi-0.9.5 x11-libs/libX11-1.3.3 x11-libs/libXau-1.0.5 x11-libs/libXdmcp-1.0.3 x11-libs/libxcb-1.5 x11-libs/xtrans-1.2.5 x11-misc/util-macros-1.10.0 x11-proto/inputproto-2.0 x11-proto/kbproto-1.0.4 x11-proto/xcb-proto-1.6 x11-proto/xextproto-7.1.1 x11-proto/xf86bigfontproto-1.2.0 x11-proto/xproto-7.0.16 #+END_EXAMPLE\n","date":"16 July 2010","externalUrl":null,"permalink":"/post/2010-4ca5-ca76/","section":"Posts","summary":"guruplug が届いてから遊んだこと # U-Bootのアップデート Kernelのアップデート Debian RFS から Gentoo RFS に変更 以上は、確認ずみ。まぁ、いつもすることじゃないので放っておこう。","title":"Guruplug Subquent","type":"post"},{"content":"出遅れの感は否めないが（まぁ人柱が多数いるので力強いけど） やっと Guruplug Std. が届いた。\nもしかしたら、Plus 注文と間違えられてかも。 一昨日GlobalScale社に「まだ発送しない? 」のメールを送った際に、 「俺が頼んだのは Plus じゃないよ」と付け加えたら翌日に 「明日送るから」っていうメールが入っていたんだ。\n熱くなるのは Plus 同様かも。どこまで熱くなるかは、次回。 (週末かな。でも、なんかイベントあったような気がする\u0026hellip;)\nおきまりの first impression ということで、お写真を # 前のブログサイトにアップロードした画像なのでないw\nJTAG ボード 1 を繋ぎ、FTDI USB シリアルデバイス(例ではttyUSB0)を確認したら # usb 2-2: FTDI USB Serial Device converter now attached to ttyUSB0 screen /dev/ttyUSB0 115200 で`screen`コマンドでターミナルをあげておく。\nU-Bootの確認 U-Boot 2009.11-rc1-00602-g8e6db3d (Dec 24 2009 - 03:11:17) Marvell-Plug2 SoC: Kirkwood 88F6281_A0 DRAM: 512 MB NAND: 512 MiB In: serial Out: serial Err: serial Net: egiga0 88E1121 Initialized on egiga0 Hit any key to stop autoboot: 3 \b\b\b 0 Marvell\u0026gt;\u0026gt; help ? - alias for \u0026#39;help\u0026#39; base - print or set address offset bdinfo - print Board Info structure boot - boot default, i.e., run \u0026#39;bootcmd\u0026#39; bootd - boot default, i.e., run \u0026#39;bootcmd\u0026#39; bootm - boot application image from memory bootp - boot image via network using BOOTP/TFTP protocol cmp - memory compare coninfo - print console devices and information cp - memory copy crc32 - checksum calculation dhcp - boot image via network using DHCP/TFTP protocol echo - echo args to console editenv - edit environment variable fatinfo - print information about filesystem fatload - load binary file from a dos filesystem fatls - list files in a directory (default /) go - start application at address \u0026#39;addr\u0026#39; help - print command description/usage iminfo - print header information for application image imxtract- extract a part of a multi-image itest - return true/false on integer compare loadb - load binary file over serial line (kermit mode) loads - load S-Record file over serial line loady - load binary file over serial line (ymodem mode) loop - infinite loop on address range md - memory display mm - memory modify (auto-incrementing address) mtest - simple RAM read/write test mw - memory write (fill) nand - NAND sub-system nboot - boot from NAND device nfs - boot image via network using NFS protocol nm - memory modify (constant address) ping - send ICMP ECHO_REQUEST to network host printenv- print environment variables rarpboot- boot image via network using RARP/TFTP protocol reset - Perform RESET of the CPU run - run commands in an environment variable saveenv - save environment variables to persistent storage setenv - set environment variables sleep - delay execution for some time source - run script from memory tftpboot- boot image via network using TFTP protocol usb - USB sub-system usbboot - boot from USB device version - print monitor version Marvell\u0026gt;\u0026gt; version U-Boot 2009.11-rc1-00602-g8e6db3d (Dec 24 2009 - 03:11:17) Marvell-Plug2 Marvell\u0026gt;\u0026gt; printenv bootcmd=${x_bootcmd_ethernet}; ${x_bootcmd_usb}; ${x_bootcmd_kernel}; setenv bootargs ${x_bootargs} ${x_bootargs_root}; bootm 0x6400000; bootdelay=3 baudrate=115200 x_bootcmd_ethernet=ping 192.168.2.1 x_bootcmd_usb=usb start x_bootcmd_kernel=nand read.e 0x6400000 0x100000 0x400000 x_bootargs=console=ttyS0,115200 x_bootargs_root=ubi.mtd=2 root=ubi0:rootfs rootfstype=ubifs ethact=egiga0 ethaddr=00:50:43:01:9C:DB stdin=serial stdout=serial stderr=serial Environment size: 455/131068 bytes bootしてみましょ いい感じの速度感。悪くないな。\nU-Boot 2009.11-rc1-00602-g8e6db3d (Dec 24 2009 - 03:11:17) Marvell-Plug2 SoC: Kirkwood 88F6281_A0 DRAM: 512 MB NAND: 512 MiB In: serial Out: serial Err: serial Net: egiga0 88E1121 Initialized on egiga0 Hit any key to stop autoboot: 3 \b\b\b 2 \b\b\b 1 \b\b\b 0 No link on egiga0 ping failed; host 192.168.2.1 is not alive (Re)start USB... USB: Register 10011 NbrPorts 1 USB EHCI 1.00 scanning bus for devices... 2 USB Device(s) found scanning bus for storage devices... 0 Storage Device(s) found NAND read: device 0 offset 0x100000, size 0x400000 4194304 bytes read: OK ## Booting kernel from Legacy Image at 06400000 ... Image Name: Linux-2.6.32-00007-g56678ec Image Type: ARM Linux Kernel Image (uncompressed) Data Size: 2789748 Bytes = 2.7 MB Load Address: 00008000 Entry Point: 00008000 Verifying Checksum ... OK Loading Kernel Image ... OK OK Starting kernel ... Uncompressing Linux.................................................................................................................................................................................... done, booting the kernel. Linux version 2.6.32-00007-g56678ec (root@msi-linux-build.marvell.com) (gcc version 4.1.2 20070925 (Red Hat 4.1.2-33.fa1)) #1 PREEMPT Thu Dec 24 03:15:48 PST 2009 CPU: Feroceon 88FR131 [56251311] revision 1 (ARMv5TE), cr=00053977 CPU: VIVT data cache, VIVT instruction cache Machine: Marvell Plug2 Reference Board Memory policy: ECC disabled, Data cache writeback Built 1 zonelists in Zone order, mobility grouping on. Total pages: 130048 Kernel command line: console=ttyS0,115200 ubi.mtd=2 root=ubi0:rootfs rootfstype=ubifs PID hash table entries: 2048 (order: 1, 8192 bytes) Dentry cache hash table entries: 65536 (order: 6, 262144 bytes) Inode-cache hash table entries: 32768 (order: 5, 131072 bytes) Memory: 256MB 256MB = 512MB total Memory: 513024KB available (5144K code, 1034K data, 148K init, 0K highmem) SLUB: Genslabs=11, HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1 Hierarchical RCU implementation. NR_IRQS:114 Console: colour dummy device 80x30 Calibrating delay loop... 1192.75 BogoMIPS (lpj=5963776) Mount-cache hash table entries: 512 CPU: Testing write buffer coherency: ok NET: Registered protocol family 16 Kirkwood: MV88F6281-A1, TCLK=200000000. Feroceon L2: Cache support initialised. bio: create slab \u0026lt;bio-0\u0026gt; at 0 vgaarb: loaded SCSI subsystem initialized usbcore: registered new interface driver usbfs usbcore: registered new interface driver hub usbcore: registered new device driver usb cfg80211: Using static regulatory domain info cfg80211: Regulatory domain: US (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp) (2402000 KHz - 2472000 KHz @ 40000 KHz), (600 mBi, 2700 mBm) (5170000 KHz - 5190000 KHz @ 40000 KHz), (600 mBi, 2300 mBm) (5190000 KHz - 5210000 KHz @ 40000 KHz), (600 mBi, 2300 mBm) (5210000 KHz - 5230000 KHz @ 40000 KHz), (600 mBi, 2300 mBm) (5230000 KHz - 5330000 KHz @ 40000 KHz), (600 mBi, 2300 mBm) (5735000 KHz - 5835000 KHz @ 40000 KHz), (600 mBi, 3000 mBm) cfg80211: Calling CRDA for country: US Switching to clocksource orion_clocksource NET: Registered protocol family 2 IP route cache hash table entries: 4096 (order: 2, 16384 bytes) TCP established hash table entries: 16384 (order: 5, 131072 bytes) TCP bind hash table entries: 16384 (order: 4, 65536 bytes) TCP: Hash tables configured (established 16384 bind 16384) TCP reno registered NET: Registered protocol family 1 RPC: Registered udp transport module. RPC: Registered tcp transport module. RPC: Registered tcp NFSv4.1 backchannel transport module. JFFS2 version 2.2. (NAND) 息 2001-2006 Red Hat, Inc. JFS: nTxBlock = 4010, nTxLock = 32080 msgmni has been set to 1002 alg: No test for stdrng (krng) io scheduler noop registered io scheduler anticipatory registered io scheduler deadline registered io scheduler cfq registered (default) Serial: 8250/16550 driver, 2 ports, IRQ sharing disabled serial8250.0: ttyS0 at MMIO 0xf1012000 (irq = 33) is a 16550A console [ttyS0] enabled brd: module loaded loop: module loaded NAND device: Manufacturer ID: 0xec, Chip ID: 0xdc (Samsung NAND 512MiB 3,3V 8-bit) Scanning device for bad blocks Creating 3 MTD partitions on \u0026#34;orion_nand\u0026#34;: 0x000000000000-0x000000100000 : \u0026#34;u-boot\u0026#34; 0x000000100000-0x000000500000 : \u0026#34;uImage\u0026#34; 0x000000500000-0x000020000000 : \u0026#34;root\u0026#34; UBI: attaching mtd2 to ubi0 UBI: physical eraseblock size: 131072 bytes (128 KiB) UBI: logical eraseblock size: 129024 bytes UBI: smallest flash I/O unit: 2048 UBI: sub-page size: 512 UBI: VID header offset: 512 (aligned 512) UBI: data offset: 2048 UBI: attached mtd2 to ubi0 UBI: MTD device name: \u0026#34;root\u0026#34; UBI: MTD device size: 507 MiB UBI: number of good PEBs: 4056 UBI: number of bad PEBs: 0 UBI: max. allowed volumes: 128 UBI: wear-leveling threshold: 4096 UBI: number of internal volumes: 1 UBI: number of user volumes: 1 UBI: available PEBs: 0 UBI: total number of reserved PEBs: 4056 UBI: number of PEBs reserved for bad PEB handling: 40 UBI: max/mean erase counter: 2/0 UBI: image sequence number: 0 UBI: background thread \u0026#34;ubi_bgt0d\u0026#34; started, PID 447 MV-643xx 10/100/1000 ethernet driver version 1.4 mv643xx_eth smi: probed net eth0: port 0 with MAC address 00:50:43:01:9c:db ehci_hcd: USB 2.0 \u0026#39;Enhanced\u0026#39; Host Controller (EHCI) Driver orion-ehci orion-ehci.0: Marvell Orion EHCI orion-ehci orion-ehci.0: new USB bus registered, assigned bus number 1 orion-ehci orion-ehci.0: irq 19, io mem 0xf1050000 orion-ehci orion-ehci.0: USB 2.0 started, EHCI 1.00 usb usb1: configuration #1 chosen from 1 choice hub 1-0:1.0: USB hub found hub 1-0:1.0: 1 port detected Initializing USB Mass Storage driver... usbcore: registered new interface driver usb-storage USB Mass Storage support registered. usbcore: registered new interface driver ums-datafab usbcore: registered new interface driver ums-freecom usbcore: registered new interface driver ums-jumpshot usbcore: registered new interface driver ums-sddr09 usbcore: registered new interface driver ums-sddr55 mice: PS/2 mouse device common for all mice rtc-mv rtc-mv: rtc core: registered rtc-mv as rtc0 i2c /dev entries driver cpuidle: using governor ladder cpuidle: using governor menu sdhci: Secure Digital Host Controller Interface driver sdhci: Copyright(c) Pierre Ossman mmc0: mvsdio driver initialized, lacking card detect (fall back to polling) Registered led device: plug2:red:health Registered led device: plug2:green:health Registered led device: plug2:red:wmode Registered led device: plug2:green:wmode mv_xor_shared mv_xor_shared.0: Marvell shared XOR driver mv_xor_shared mv_xor_shared.1: Marvell shared XOR driver mmc0: new high speed SDIO card at address 0001 mv_xor mv_xor.0: Marvell XOR: ( xor cpy ) mv_xor mv_xor.1: Marvell XOR: ( xor fill cpy ) mv_xor mv_xor.2: Marvell XOR: ( xor cpy ) mv_xor mv_xor.3: Marvell XOR: ( xor fill cpy ) usbcore: registered new interface driver usbhid usbhid: v2.6:USB HID core driver oprofile: using timer interrupt. TCP cubic registered NET: Registered protocol family 17 lib80211: common routines for IEEE802.11 drivers rtc-mv rtc-mv: setting system clock to 2078-08-07 07:32:50 UTC (3427083170) usb 1-1: new high speed USB device using orion-ehci and address 2 UBIFS: mounted UBI device 0, volume 0, name \u0026#34;rootfs\u0026#34; UBIFS: file system size: 516225024 bytes (504126 KiB, 492 MiB, 4001 LEBs) UBIFS: journal size: 9033728 bytes (8822 KiB, 8 MiB, 71 LEBs) UBIFS: media format: w4/r0 (latest is w4/r0) UBIFS: default compressor: zlib UBIFS: reserved for root: 0 bytes (0 KiB) VFS: Mounted root (ubifs filesystem) on device 0:13. Freeing init memory: 148K usb 1-1: configuration #1 chosen from 1 choice hub 1-1:1.0: USB hub found hub 1-1:1.0: 4 ports detected INIT: version 2.86 booting Starting the hotplug events dispatcher: udevd. Synthesizing the initial hotplug events...done. Waiting for /dev to be fully populated...Bluetooth: Core ver 2.15 NET: Registered protocol family 31 Bluetooth: HCI device and connection manager initialized Bluetooth: HCI socket layer initialized libertas_sdio: Libertas SDIO driver libertas_sdio: Copyright Pierre Ossman libertas_sdio mmc0:0001:1: firmware: requesting sd8688_helper.bin libertas: can\u0026#39;t load helper firmware libertas: failed to load helper firmware libertas_sdio: probe of mmc0:0001:1 failed with error -2 Bluetooth: vendor=0x2df, device=0x9105, class=255, fn=2 btmrvl_sdio mmc0:0001:2: firmware: requesting sd8688_helper.bin btmrvl_sdio_download_helper: request_firmware(helper) failed, error code = -2 btmrvl_sdio_download_fw: Failed to download helper! btmrvl_sdio_probe: Downloading firmware failed! done. Setting the system clock. The Hardware Clock does not contain a valid time, so we cannot set the System Time from it. Unable to set system clock. Unable to set System Clock to: Thu Jul 2 01:04:39 UTC 1942 \u001b[33m(warning).\u001b[39;49m Activating swap...done. Setting the system clock. The Hardware Clock does not contain a valid time, so we cannot set the System Time from it. Unable to set system clock. Unable to set System Clock to: Thu Jul 2 01:04:40 UTC 1942 \u001b[33m(warning).\u001b[39;49m Cleaning up ifupdown.... Loading kernel modules...done. Checking file systems...fsck 1.41.3 (12-Oct-2008) done. Setting kernel variables (/etc/sysctl.conf)...done. Mounting local filesystems...done. Activating swapfile swap...done. Setting up networking.... Configuring network interfaces...done. Starting portmap daemon.... Setting console screen modes and fonts. cannot (un)set powersave mode \u001b[9;30]\u001b[14;30]Setting up ALSA...done (none loaded). INIT: Entering runlevel: 2 Starting enhanced syslogd: rsyslogd. Starting system message bus: dbus. Starting OpenBSD Secure Shell server: sshdNET: Registered protocol family 10 . Starting MySQL database server: mysqld. Checking for corrupt, not cleanly closed and upgrade needing tables.. Starting MTA: exim4. ALERT: exim paniclog /var/log/exim4/paniclog has non-zero size, mail system possibly broken \u001b[31mfailed!\u001b[39;49m Starting Network Interface Plugging Daemon:ADDRCONF(NETDEV_UP): eth0: link is not ready eth0. Starting web server: lighttpd. Starting internet superserver: inetd. Starting Samba daemons: nmbd smbd. Starting file alteration monitor: FAM. Starting Hardware abstraction layer: hald. Starting periodic command scheduler: crond. uap_probe: vendor=0x02DF device=0x9104 class=0 function=1 uap_sdio mmc0:0001:1: firmware: requesting mrvl/helper_sd.bin uap_sdio mmc0:0001:1: firmware: requesting mrvl/sd8688_ap.bin UAP FW is active ADDRCONF(NETDEV_UP): uap0: link is not ready SSID setting successful BSS started! ip_tables: (C) 2000-2006 Netfilter Core Team nf_conntrack version 0.5.0 (8022 buckets, 32088 max) CONFIG_NF_CT_ACCT is deprecated and will be removed soon. Please use nf_conntrack.acct=1 kernel parameter, acct=1 nf_conntrack module option or sysctl net.netfilter.nf_conntrack_acct=1 to enable it. Starting very small DHCP server: udhcpd (v0.9.9-pre) started udhcpd. Starting DNS forwarder and DHCP server: dnsmasq. Starting bluetooth: bluetoothdBluetooth: L2CAP ver 2.14 Bluetooth: L2CAP socket layer initialized Bluetooth: RFCOMM TTY layer initialized Bluetooth: RFCOMM socket layer initialized Bluetooth: RFCOMM ver 1.11 . Bluetooth: BNEP (Ethernet Emulation) ver 1.3 Bluetooth: vendor=0x2df, device=0x9105, class=255, fn=2 Bridge firewalling registered Bluetooth: SCO (Voice Link) ver 0.6 Bluetooth: SCO socket layer initialized Agent registered Debian GNU/Linux 5.0 sheevaplug-debian ttyS0 sheevaplug-debian login: root Password: Last login: Thu Jul 2 01:04:00 UTC 1942 on ttyS0 Linux sheevaplug-debian 2.6.32-00007-g56678ec #1 PREEMPT Thu Dec 24 03:15:48 PST 2009 armv5tel The programs included with the Debian GNU/Linux system are free software; the exact distribution terms for each program are described in the individual files in /usr/share/doc/*/copyright. Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent permitted by applicable law. 先行予約は JTAGボードが無料でついてくるんだけど、PC-BOX JTAGボードが必需なんだな。後発で買った人は工作するか、諦めるか。もっとも必要のない人だっているから、どうだとは言い切れないが。\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"12 July 2010","externalUrl":null,"permalink":"/post/2010-e6dc-e8c7/","section":"Posts","summary":"出遅れの感は否めないが（まぁ人柱が多数いるので力強いけど） やっと Guruplug Std.","title":"Guruplug Arrived","type":"post"},{"content":"","date":"1 June 2010","externalUrl":null,"permalink":"/categories/windowmanager/","section":"Categories","summary":"","title":"WindowManager","type":"categories"},{"content":"","date":"1 June 2010","externalUrl":null,"permalink":"/tags/xorg/","section":"Tags","summary":"","title":"Xorg","type":"tags"},{"content":"GuruPlugがなかなか屆かないので、Funtoo と xorg-1.8 の整理をした。\nboot-update # grubの設定支援かな？ boot-update で記述されている代物です。 grub-1.97+にしてみたが multiboot にはまだ調整されていないみたい。 次のように記述して(/etc/boot.conf)、 `boot-update\u0026rsquo; とタイプインするればよい。楽チンだけど、 \u0026ldquo;Backtrack 4\u0026rdquo; は利用側の root-fs を無理やり埋め込まれているので、手直しが必要なのだ。 まぁ、/boot/grub/grub.cfg を手修正すればよい。\nboot { path /boot generate grub default \u0026#34;Funtoo Linux\u0026#34; timeout 3 } \u0026#34;Funtoo Linux\u0026#34; { kernel /kernel-genkernel-x86[-v] initrd initramfs-genkernel-x86[-v] params += crypt_root=/dev/sdc2 root_keydev=/dev/sde1 root_key=/keyfile params += dolvm real_root=/dev/mapper/LVG-root params += i915.modeset=1 fbcon=map:1 params += ramdisk=8192 quiet init=/linuxrc } \u0026#34;Backtrack 4\u0026#34; { kernel /bt4/vmlinuz initrd /bt4/initrd.gz params += BOOT=casper boot=casper persistent rw quiet params += real_root=auto } xorg-1.8 # けっこう放置していたのでトライしてみた。\nMASKを外す # echo \u0026#39;x11-base/xorg-server\u0026#39; \u0026gt;\u0026gt; /etc/portage/package.unmask echo \u0026#39;x11-base/xorg-server * ~* **\u0026#39; \u0026gt;\u0026gt; /etc/portage/package.keywords/x11-base emege xorg-server # USE=\u0026ldquo;udev -hal\u0026rdquo; で emerge したけど、キーボードとマウスが認識していない。予想はついていたので、sshd をあげて別端末から pkill した。\nここを参考する。\nemerge udev # MASKを外して、udev をアップデート。\necho \u0026#39;sys-fs/udev\u0026#39; \u0026gt;\u0026gt; /etc/portage/package.unmask echo \u0026#39;sys-fs/udev * ~* **\u0026#39; \u0026gt;\u0026gt; /etc/portage/package.keywords/sys-fs emerge -u udev udevルールの追加 # j /usr/share/X11/xorg.conf.d が system config なので、/etc/X11/xorg.conf.d を掘って キーボードとマウスの設定を追加。\nおけー。\n# cat /etc/X11/xorg.conf.d/10-keyboard.conf Section \u0026#34;InputClass\u0026#34; Identifier \u0026#34;Keyboard\u0026#34; Driver \u0026#34;evdev\u0026#34; MatchIsKeyboard \u0026#34;on\u0026#34; Option \u0026#34;xkbmodel\u0026#34; \u0026#34;jp106\u0026#34; Option \u0026#34;xkblayout\u0026#34; \u0026#34;jp\u0026#34; EndSection # cat /etc/X11/xorg.conf.d/20-synaptics.conf Section \u0026#34;InputClass\u0026#34; Identifier \u0026#34;Touchpad\u0026#34; Driver \u0026#34;synaptics\u0026#34; MatchIsTouchpad \u0026#34;on\u0026#34; Option \u0026#34;SHMConfig\u0026#34; \u0026#34;true\u0026#34; Option \u0026#34;MinSpeed\u0026#34; \u0026#34;0.20\u0026#34; Option \u0026#34;MaxSpeed\u0026#34; \u0026#34;0.60\u0026#34; Option \u0026#34;AccelFactor\u0026#34; \u0026#34;0.020\u0026#34; Option \u0026#34;HorizEdgeScroll\u0026#34; \u0026#34;true\u0026#34; Option \u0026#34;HorizScrollDelta\u0026#34; \u0026#34;100\u0026#34; Option \u0026#34;VertEdgeScroll\u0026#34; \u0026#34;true\u0026#34; Option \u0026#34;VertScrollDelta\u0026#34; \u0026#34;100\u0026#34; Option \u0026#34;TapButton1\u0026#34; \u0026#34;1\u0026#34; EndSection ","date":"1 June 2010","externalUrl":null,"permalink":"/post/2010-bba0-bea3/","section":"Posts","summary":"GuruPlugがなかなか屆かないので、Funtoo と xorg-1.","title":"Xorg","type":"post"},{"content":"","date":"14 April 2010","externalUrl":null,"permalink":"/tags/crossdev/","section":"Tags","summary":"","title":"Crossdev","type":"tags"},{"content":" guruplug が届く前に環境を作っておこう # 1日目 # クロスコンパイル環境とか、ルートファイルシステムなど。 GuruPlug Wiki に加筆したものも含めて、めもです。\n参考にしたポイント # cross-development Building Kernel GuruPlug クロスコンパイルは GNU Hurd で遊んで以来、やっていなかったけど、Gentoo は楽ちんですね。\nクロスコンパイル環境のセットアップ # sudo emerge -av portage-utils crossdev sudo crossdev armv5tel-softfloat-linux-gnueabi U-Boot とカーネルセットアップ # これは Wiki に書いてあるとおり。 最後にmkimageをPATHの通っているところにコピーしておく。カーネル(uImage)でこけるので。\nsudo git clone git://git.denx.de/u-boot-marvell.git u-boot-marvell.git sudo cd u-boot-marvell.git sudo git checkout -b testing origin/testing sudo make mrproper sudo make guruplug_config sudo make u-boot.kwb CROSS_COMPILE=armv5tel-softfloat-linux-gnueabi- sudo cp tools/mkimage /usr/bin sudo wget http://www.plugcomputer.org/plugwiki/images/8/81/Guruplug-patchset.tar.bz2 sudo tar xfj Guruplug-patchset.tar.bz2 sudo git clone git://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-2.6.33.y.git sudo for p in guruplug-patchset/*; do patch -p1 -E -d linux-2.6.33.y.git \u0026lt; $p; done sudo cd linux-2.6.33.y.git sudo make CROSS_COMPILE=armv5tel-softfloat-linux-gnueabi- ARCH=arm clean sudo make CROSS_COMPILE=armv5tel-softfloat-linux-gnueabi- ARCH=arm guruplug_defconfig sudo make CROSS_COMPILE=armv5tel-softfloat-linux-gnueabi- ARCH=arm uImage sudo make CROSS_COMPILE=armv5tel-softfloat-linux-gnueabi- ARCH=arm modules sudo make CROSS_COMPILE=armv5tel-softfloat-linux-gnueabi- ARCH=arm modules_install INSTALL_MOD_PATH=/usr/armv5tel-softfloat-linux-gnueabi mtd-toolsのセットアップ # git repository(git://git.infradead.org/mtd-utils.git)を使ってみる。 ubifs でルートファイルシステムを構築する準備です。\nsudo ebuild /usr/portage/sys-fs/mtd-utils/mtd-utils-99999999.ebuild compile sudo ebuild /usr/portage/sys-fs/mtd-utils/mtd-utils-99999999.ebuild merge sudo ebuild /usr/portage/sys-fs/mtd-utils/mtd-utils-99999999.ebuild clean ルートファイルシステムのセットアップ # crossdev で作ったクロスコンパイラで基本システム(stage1)を構築する。 ところが、`cpio\u0026rsquo; でコンパイル失敗している。\n眠いので今日はここまで。\ncd /usr/armv5tel-softfloat-linux-gnueabi mkdir etc cd etc ln -s /usr/portage/profiles/default/linux/arm/10.0 make.profile cp /tmp/make.conf-arm make.conf armv5tel-softfloat-linux-gnueabi-emerge -av @system 参考：/usr/armv5tel-softfloat-linux-gnueabi/etc/make.conf 僕の環境なので同じである必要はない。 ROOT=\u0026quot;\u0026hellip;\u0026quot; の default は \u0026ldquo;/\u0026rdquo; なので指定しておかないとoverwrite されるので注意 あと、クロスコンパイルの場合 CBUILD は必要。\n/usr/armv5tel-softfloat-linux-gnueabi/etc/make.conf # NEVER change this CHOST=\u0026#34;armv5tel-softfloat-linux-gnueabi\u0026#34; CBUILD=i686-pc-linux-gnu CHOST=${CAHOST} ARCH=\u0026#34;arm\u0026#34; ROOT=/usr/${CHOST}/ ACCEPT_KEYWORDS=\u0026#34;arm ~arm\u0026#34; # You can edit these. USE=\u0026#34;-X -cdr -kde -gnome -qt -gtk -fortran -opengl -quicktime -cups \\ -tcpd -apache -gpm -slang nls cjk \\ -alsa -xscreensaver \\ ssl userlocales apache2 sasl nptl nptlonly threads unicode utf8 \\ bzip2 crypt loop-aes mysql mysqli sqlite xmlrpc bash-completion \\ idn glibc-omitfp \\ dvd dvdr cdda cddb \\ mp3 vorbis wavepack wma mpeg ogg rtsp x264 win32codecs libv412 v4l2 v4l \\ wifi bluetooth curl git -dso subversion lzma\u0026#34; APACHE2_MODULES=\u0026#34; \\ auth auth_basic authz_user authz_host authn_dbd authz_dbd dbd \\ alias filter deflate mime mime_magic expires headers unique_id \\ vhost_alias rewrite log_config logio env setenvif autoindex dir \\ proxy proxy_http dav dav_fs \\ \u0026#34; APACHE2_MPMS=\u0026#34;worker\u0026#34; # Think twice about editing these. MAKEOPTS=\u0026#34;-j5\u0026#34; CFLAGS=\u0026#34;-Os -march=armv5te -pipe -fomit-frame-pointer\u0026#34; CXXFLAGS=\u0026#34;${CFLAGS}\u0026#34; #FEATURES=\u0026#34;distcc parallel-fetch userfetch userpriv\u0026#34; FEATURES=\u0026#34;parallel-fetch userfetch userpriv buildpkg\u0026#34; PORTAGE_TMPDIR=\u0026#34;/var/tmp/cross\u0026#34; BUILD_PREFIX=\u0026#34;${PORTAGE_TMPDIR}\u0026#34; GENTOO_MIRRORS=\u0026#34;http://gentoo.gg3.net/\u0026#34; ACCEPT_LICENSE=\u0026#34;*\u0026#34; 2日目 # cpioのコンパイルエラーは、stat(2) # の引数が指定されていなかっただけだった。\n:CUSTOM_ID: cpioのコンパイルエラーはstat2-の引数が指定されていなかっただけだった\n野良ebuild を狭んで、おけー。\nsrc/filtypes.h の patch diff -urN cpio-2.11-/src/filetypes.h cpio-2.11/src/filetypes.h --- cpio-2.11-/src/filetypes.h 2010-04-15 18:03:16.639694128 +0900 +++ cpio-2.11/src/filetypes.h 2010-04-15 18:04:03.545691921 +0900 @@ -82,4 +82,4 @@ #define lstat stat #endif int lstat (); -int stat (); +int stat (const char *path, struct stat *buf); 野良ebuild cpio-2.11-r1.ebuild # cpio-2.11-r1.ebuild # Copyright 1999-2010 Gentoo Foundation # Distributed under the terms of the GNU General Public License v2 # $Header: /var/cvsroot/gentoo-x86/app-arch/cpio/cpio-2.11.ebuild,v 1.1 2010/03/15 07:52:11 vapier Exp $ inherit eutils EAPI=\u0026#34;2\u0026#34; DESCRIPTION=\u0026#34;A file archival tool which can also read and write tar files\u0026#34; HOMEPAGE=\u0026#34;http://www.gnu.org/software/cpio/cpio.html\u0026#34; SRC_URI=\u0026#34;mirror://gnu/cpio/${P}.tar.bz2\u0026#34; LICENSE=\u0026#34;GPL-3\u0026#34; SLOT=\u0026#34;0\u0026#34; KEYWORDS=\u0026#34;~alpha ~amd64 ~arm ~hppa ~ia64 ~m68k ~mips ~ppc ~ppc64 ~s390 ~sh ~sparc ~sparc-fbsd ~x86 ~x86-fbsd\u0026#34; IUSE=\u0026#34;nls\u0026#34; src_configure() { econf \\ $(use_enable nls) \\ --bindir=/bin \\ --with-rmt=/usr/sbin/rmt \\ || die } src_install() { emake install DESTDIR=\u0026#34;${D}\u0026#34; || die dodoc ChangeLog NEWS README rm \u0026#34;${D}\u0026#34;/usr/share/man/man1/mt.1 || die rmdir \u0026#34;${D}\u0026#34;/usr/libexec || die } src_unpack() { unpack ${A} cd \u0026#34;${S}\u0026#34; epatch \u0026#34;${FILESDIR}\u0026#34;/${P}-filetypes.patch } 3日目 # クロス環境での stage1 がエラーで出来ていない状態 # ものが届いていないのでまぁゆったりとな。 あとで、distcc でホストマシンでコンパイルできるように クロスコンパイル環境を作り直そう。\nクロス環境消して、ホスト環境とバージョンを合せておこうっと。\nSYSROOT を検索する必要があるため binutils-2.19.51.0.12 より上にする。 http://bugs.gentoo.org/275666\nsudo crossdev --clean armv5tel-softfloat-linux-gnueabi sudo emerge -p binutils linux-headers gcc glibc .... [ebuild R ] sys-devel/binutils-2.20.1 [ebuild R ] sys-kernel/linux-headers-2.6.29 [ebuild R ] sys-devel/gcc-4.3.3-r2 [ebuild R ] sys-libs/glibc-2.9_p20081201-r2 ... sudo crossdev -t armv5tel-softfloat-linux-gnueabi \\ --b 2.20.1 \\ --k 2.6.29 \\ --g 4.3.3-r2 \\ --l 2.9_p20081201-r2 \\ --ex-gdb 4日目 # クロスコンパイル環境で ARM(armv5tel)用の gentoo stage1 # ができたので動作確認をした\n:CUSTOM_ID: クロスコンパイル環境で-armarmv5tel用の-gentoo-stage1-ができたので動作確認をした\n正しくは perl と Linux-PAM はクロスコンパイルができなかったので、 own で作ることになるが。\nhttp://www.gentoo.org/proj/en/base/embedded/handbook/?part=1\u0026chap=5 # QEMU の user-mode + binfmt + chroot で動作確認をした # export PS1=\u0026#34;(`uname -m`:\\W) \u0026#34; (i684:/ ) USE=\u0026#34;static\u0026#34; emerge --buildpkg --oneshot qemu-user (i684:/ ) ROOT=/usr/armv5tel-softfloat-linux-gnueabi emerge --usepkgonly qemu-user (i684:/ ) cat qemu-wrapper.c #include \u0026lt;stdio.h\u0026gt; #include \u0026lt;unistd.h\u0026gt; int main(int argc, char **argv, char **envp) { char *newargv[argc + 3]; newargv[0] = argv[0]; newargv[1] = \u0026#34;-cpu\u0026#34;; newargv[2] = \u0026#34;cortex-a8\u0026#34;; memcpy(\u0026amp;newargv[3], \u0026amp;argv[1], sizeof(*argv) * (argc - 1)); newargv[argc + 2] = NULL; return execve(\u0026#34;/usr/bin/qemu-arm\u0026#34;, newargv, envp); } (i684:/ ) gcc -static qemu-wrapper.c -o qemu-wrapper (i684:/ ) cp qemu-wrapper /usr/armv5tel-softfloat-linux-gnueabi (i684:/ ) [ -d /proc/sys/fs/binfmt_misc ] || modprobe binfmt_misc (i684:/ ) [ -f /proc/sys/fs/binfmt_misc/register ] || \\ mount binfmt_misc -t binfmt_misc /proc/sys/fs/binfmt_misc (i684:/ ) echo \u0026#39;:arm:M::\\x7fELF\\x01\\x01\\x01\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x02\\x00\\x28\\x00:\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\x00\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xfe\\xff\\xff\\xff:/qemu-wrapper:\u0026#39; \u0026gt; /proc/sys/fs/binfmt_misc/register (i684:/ ) cat /proc/sys/fs/binfmt_misc/arm enabled interpreter /qemu-wrapper flags: offset 0 magic 7f454c4601010100000000000000000002002800 mask ffffffffffffff00fffffffffffffffffeffffff (i684:/ ) [ -d /usr/armv5tel-softfloat-linux-gnueabi/usr/portage ] || \\ install -d /usr/armv5tel-softfloat-linux-gnueabi/usr/portage (i684:/ ) [ -d /usr/armv5tel-softfloat-linux-gnueabi/proc ] || \\ install -d /usr/armv5tel-softfloat-linux-gnueabi/proc (i684:/ ) [ -d /usr/armv5tel-softfloat-linux-gnueabi/sys ] || \\ install -d /usr/armv5tel-softfloat-linux-gnueabi/sys (i684:/ ) mount --bind /usr/portage /usr/armv5tel-softfloat-linux-gnueabi/usr/portage (i684:/ ) mount --bind /proc /usr/armv5tel-softfloat-linux-gnueabi/proc (i684:/ ) mount --bind /sys /usr/armv5tel-softfloat-linux-gnueabi/sys (i684:/ ) chroot /usr/armv5tel-softfloat-linux-gnueab /bin/busybox mdev -s (i684:/ ) chroot /usr/armv5tel-softfloat-linux-gnueab /bin/bash --login # export PS1=\u0026#34;(`uname -m`:chroot:\\W) \u0026#34; (arm:chroot: /) env-update (arm:chroot: /) exit (i684:/ ) umount /usr/armv5tel-softfloat-linux-gnueabi/sys (i684:/ ) umount /usr/armv5tel-softfloat-linux-gnueabi/proc (i684:/ ) umount /usr/armv5tel-softfloat-linux-gnueabi/usr/portage (i684:/ ) umount /proc/sys/fs/binfmt_misc ","date":"14 April 2010","externalUrl":null,"permalink":"/post/2010-ceb7-ee44/","section":"Posts","summary":"guruplug が届く前に環境を作っておこう # 1日目 # クロスコンパイル環境とか、ルートファイルシステムなど。 GuruPlug Wiki に加筆したものも含めて、めもです。","title":"Guruplug 届くまでにやったこと","type":"post"},{"content":"","date":"4 April 2010","externalUrl":null,"permalink":"/tags/backtrack/","section":"Tags","summary":"","title":"Backtrack","type":"tags"},{"content":" backtrack4のフォーラムを読んでいたら教えて君がいたのでフォローした。 内容は distro iso を更新する方法だったが、 bt4-customise.shで出来るよって。\nさらに変更したものをポストしておく。squashfs を LUKS でカプセルするもの。元ネタは下のURL\nhttp://forums.remote-exploit.org/backtrack-4-howto/25768-howto-bt4-pre-final-usb-encryption.html\nbt4-customise.sh [ original]\n\u0026lt;embed type=\u0026ldquo;application/x-shockwave-flash\u0026rdquo; src=\u0026quot; http://ttyshare.com/t/afd4220f49ebdda620594a54f1c1181216a06a2a\u0026quot; width=\u0026ldquo;480\u0026rdquo; height=\u0026ldquo;288\u0026rdquo;\u0026gt;\n#!/bin/bash btisoname=bt4.iso btmodisoname=`basename $btisoname .iso`-mod.iso luks_image=0 count=2560000 clear echo \u0026#34;##############################################################\u0026#34; echo \u0026#34;[*] BackTrack 4 customisation script\u0026#34; echo \u0026#34;[*] Setting up the build environment...\u0026#34; services=\u0026#34;inetutils-inetd tinyproxy iodined knockd openvpn atftpd ntop nstxd nstxcd apache2 sendmail atd dhcp3-server winbind miredo miredo-server pcscd wicd wacom cups bluetooth binfmt-support mysql vmware vboxdrv kvm nessusd\u0026#34; test -d mnt || mkdir -p mnt test -d extract-cd || mkdir -p extract-cd test -d squashfs || mkdir -p squashfs test -d container || mkdir -p container mount -o loop,ro $btisoname mnt/ rsync --exclude=/casper/filesystem.squashfs -a mnt/ extract-cd if $(file mnt/casper/filesystem.squashfs | grep -qi luks); then luks_image=1 loopdev=`losetup -f` losetup $loopdev mnt/casper/filesystem.squashfs cryptsetup luksOpen $loopdev bt4 mount -o ro /dev/mapper/bt4 container/ mount -t squashfs -o loop,ro container/filesystem.squashfs squashfs else mount -t squashfs -o loop mnt/casper/filesystem.squashfs squashfs fi test -d edit || ( mkdir -p edit echo \u0026#34;[*] Copying over files, please wait ... \u0026#34; cp -a squashfs/* edit/ ) cp /etc/resolv.conf edit/etc/ cp /etc/hosts edit/etc/ cp /etc/fstab edit/etc/ cp /etc/mtab edit/etc/ test -f ~/.proxyuse \u0026amp;\u0026amp; cp ~/.proxyuse edit/root mount --bind /dev/ edit/dev mount -t proc /proc edit/proc echo \u0026#34;##############################################################\u0026#34; echo \u0026#34;[*] Entering livecd. \u0026#34; echo \u0026#34;##############################################################\u0026#34; echo \u0026#34;[*] Now you can modify the LiveCD. At minimum, we recommend :\u0026#34; echo \u0026#34;[*] apt-get update \u0026amp;\u0026amp; apt-get upgrade \u0026amp; apt-get clean\u0026#34; echo \u0026#34;##############################################################\u0026#34; echo \u0026#34;[*] If you are running a large update, you might need to stop\u0026#34; echo \u0026#34;[*] services like crond, udev, cups, etc in the chroot\u0026#34; echo \u0026#34;[*] services like crond, udev, cups, etc in the chroot\u0026#34; echo \u0026#34;[*] before exiting your chroot environment.\u0026#34; echo \u0026#34;[*] If you use proxy, type \\\u0026#34;source ~/.proxyuse\\\u0026#34;\u0026#34; echo \u0026#34;##############################################################\u0026#34; echo \u0026#34;[*] Once you have finished your modifications, type \\\u0026#34;exit\\\u0026#34;\u0026#34; echo \u0026#34;##############################################################\u0026#34; chroot edit echo \u0026#34;[*] Exited the build environemnt, unmounting images.\u0026#34; rm -rf edit/etc/mtab rm -rf edit/etc/fstab rm -rf edit/root/.bash_history rm -rf edit/root/.proxyuse umount edit/dev umount edit/proc umount squashfs if [ \u0026#34;x${luks_image}\u0026#34; == \u0026#34;x1\u0026#34; ]; then umount container cryptsetup luksClose bt4 losetup -d $loopdev fi umount mnt chmod +w extract-cd/casper/filesystem.manifest echo \u0026#34;[*] Building manifest\u0026#34; chroot edit dpkg-query \\ -W --showformat=\u0026#39;${Package} ${Version}\\n\u0026#39; \\ \u0026gt; extract-cd/casper/filesystem.manifest for service in $services;do chroot edit update-rc.d -f $service remove done REMOVE=\u0026#39;ubiquity casper live-initramfs user-setup discover xresprobe os-prober libdebian-installer4\u0026#39; for i in $REMOVE do sed -i \u0026#34;/${i}/d\u0026#34; extract-cd/casper/filesystem.manifest-desktop done cp extract-cd/casper/filesystem.manifest extract-cd/casper/filesystem.manifest-desktop sed -i \u0026#39;/ubiquity/d\u0026#39; extract-cd/casper/filesystem.manifest-desktop echo \u0026#34;[*] Building squashfs image...\u0026#34; if [ \u0026#34;x${luks_image}\u0026#34; == \u0026#34;x1\u0026#34; ]; then echo \u0026#34;[-] encrypt squashfs using\u0026#34; if [ ! -f extract-cd/casper/filesystem.squashfs ]; then echo \u0026#34;[\u0026gt;] encrypt squashfs making ($count MB)\u0026#34; dd if=/dev/urandom of=extract-cd/casper/filesystem.squashfs bs=1024 count=$count losetup $loopdev extract-cd/casper/filesystem.squashfs cryptsetup -y --cipher aes-xts-plain --key-size 512 luksFormat $loopdev else losetup $loopdev extract-cd/casper/filesystem.squashfs fi cryptsetup luksOpen $loopdev bt4 mkfs.ext3 /dev/mapper/bt4 mount /dev/mapper/bt4 container/ mksquashfs edit container/filesystem.squashfs umount container cryptsetup luksClose bt4 losetup -d $loopdev else rm -rf extract-cd/casper/filesystem.squashfs mksquashfs edit extract-cd/casper/filesystem.squashfs fi rm extract-cd/md5sum.txt (cd extract-cd \u0026amp;\u0026amp; find . -type f -print0 | xargs -0 md5sum \u0026gt; md5sum.txt) cd extract-cd echo \u0026#34;[*] Creating iso ...\u0026#34; test -f ../${btmodisoname} \u0026amp;\u0026amp; mv ../${btmodisoname} ../bt4-mod_prev.iso mkisofs -b boot/grub/stage2_eltorito \\ -no-emul-boot -boot-load-size 4 \\ -boot-info-table \\ -V \u0026#34;BT4\u0026#34; -cache-inodes -r -J -l \\ -o ../${btmodisoname} . cd .. echo \u0026#34;[*] Your modified BT4 is in $(pwd)/${btmodisoname}\u0026#34; echo \u0026#34;##############################################################\u0026#34; ","date":"4 April 2010","externalUrl":null,"permalink":"/post/2010-3bdc-01ca/","section":"Posts","summary":"backtrack4のフォーラムを読んでいたら教えて君がいたのでフォローした。 内容は distro iso を更新する方法だったが、 bt4-customise.","title":"USB Encrypt for backtrack","type":"post"},{"content":"","date":"8 March 2010","externalUrl":null,"permalink":"/tags/backtrack4/","section":"Tags","summary":"","title":"Backtrack4","type":"tags"},{"content":"","date":"8 March 2010","externalUrl":null,"permalink":"/tags/xmonad/","section":"Tags","summary":"","title":"Xmonad","type":"tags"},{"content":"backtrack4 に xmonad を入れてみた。\n[[ http://www.lares.dti.ne.jp/~jargon/uploads/backtrack4-xmonad.png]]\n$HOME/.xmonad/xmonad.hs import XMonad import XMonad.Config.Kde import qualified XMonad.StackSet as W -- to shift and float windows main = xmonad $ kdeConfig { modMask = mod4Mask -- use the Windows button as mod , manageHook = manageHook kdeConfig \u0026lt;+\u0026gt; myManageHook } where myManageHook = composeAll . concat $ [ [ className =? c --\u0026gt; doFloat | c \u0026lt;- myFloats] , [ title =? t --\u0026gt; doFloat | t \u0026lt;- myOtherFloats] , [ className =? c --\u0026gt; doF (W.shift \u0026#34;2\u0026#34;) | c \u0026lt;- webApps] , [ className =? c --\u0026gt; doF (W.shift \u0026#34;3\u0026#34;) | c \u0026lt;- ircApps] ] myFloats = [\u0026#34;MPlayer\u0026#34;, \u0026#34;Gimp\u0026#34;] myOtherFloats = [\u0026#34;alsamixer\u0026#34;] webApps = [\u0026#34;Firefox-bin\u0026#34;, \u0026#34;Opera\u0026#34;] -- open on desktop 2 ircApps = [\u0026#34;Ksirc\u0026#34;] -- open on desktop 3 設定 sudo apt-get install language-pack-ja sudo apt-get install scim scim-anthy kasumi sudo apt-get install ttf-vlgothic sudo apt-get install kde-i18n-ja sudo apt-get install xmonad cat $HOME/.kde3/env/set_window_manager.sh KDEWM=/usr/bin/xmonad chmod +x $HOME/.kde3/env/set_window_manager.sh ","date":"8 March 2010","externalUrl":null,"permalink":"/post/2010-3be9-c756/","section":"Posts","summary":"backtrack4 に xmonad を入れてみた。","title":"Xmonad for Backtrack4","type":"post"},{"content":"awsome 最高と思っていたけど、 Xmonad はさらにいいです。 キーボードで操作できて、awesome とは違い設定ファイルがヘタっても前の設定で動作するので使っている側としては安全だよね。 awesome でいいなと思ってたものは大体ある。 bioe007 が書いた awesome の revelation は好きだったのでの、こういうのは xmonad にないか探しているところ。\ngit clone git://github.com/jelly/dotfiles.git ","date":"6 March 2010","externalUrl":null,"permalink":"/post/2010-1620-4255/","section":"Posts","summary":"awsome 最高と思っていたけど、 Xmonad はさらにいいです。 キーボードで操作できて、awesome とは違い設定ファイルがヘタっても前の設定で動作するので使っている側としては安全だよね。 awesome でいいなと思ってたものは大体ある。 bioe007 が書いた awesome の revelation は好きだったのでの、こういうのは xmonad にないか探しているところ。","title":"xmonad window manager","type":"post"},{"content":" 今なら(2/28/2010まで)、JTAGモジュールが無料の組み込み # 今なら(2/28/2010まで)、JTAGモジュールが無料の組み込みLinuxキットの guruplug std. の注文をした。４月から配送が始まるので５月までには届くだろうか。\nhttp://www.plugcomputer.org/ http://plugcomputer.org/plugwiki/index.php?title=Main_Page http://www.openplug.org/data/ ","date":"18 February 2010","externalUrl":null,"permalink":"/post/2010-f5af-e341/","section":"Posts","summary":"今なら(2/28/2010まで)、JTAGモジュールが無料の組み込み # 今なら(2/28/2010まで)、JTAGモジュールが無料の組み込みLinuxキットの guruplug std.","title":"Guruplug Std.","type":"post"},{"content":"","date":"13 February 2010","externalUrl":null,"permalink":"/tags/awesome/","section":"Tags","summary":"","title":"Awesome","type":"tags"},{"content":" awesome の設定をしなおしをした。そんなに変更はしていないように見えるけど、tag(他のWMでいうこところのワークスペース）を動的に生成する shifty というのを使ってみた。\ngit://github.com/bioe007/awesome-configs.git ","date":"13 February 2010","externalUrl":null,"permalink":"/post/2010-ad26-26d8/","section":"Posts","summary":"awesome の設定をしなおしをした。そんなに変更はしていないように見えるけど、tag(他のWMでいうこところのワークスペース）を動的に生成する shifty というのを使ってみた。","title":"awesome window manager","type":"post"},{"content":"","date":"14 November 2009","externalUrl":null,"permalink":"/tags/iso-image/","section":"Tags","summary":"","title":"Iso-Image","type":"tags"},{"content":"","date":"14 November 2009","externalUrl":null,"permalink":"/categories/linux/","section":"Categories","summary":"","title":"Linux","type":"categories"},{"content":"息子が iPod nano を買って今までのPCでは容量不足なので私のと交換することにした。 EeePC 901-X という少し古めのUMPCなので、外付けディスクを Linux用のディスクに割り当てた。 用途は Live CD作成 マシンかな。\nLive CD のイメージ作成に、 以前は metro を使ってましたが、自分しか使わないのでもっと手軽に。\nパーティションレイアウトはこんな感じで。\nfdisk -l # ディスク /dev/sdc: 160.0 GB, 160041885696 バイト ヘッド 255, セクタ 63, シリンダ 19457 Units = シリンダ数 of 16065 * 512 = 8225280 バイト ディスク識別子: 0x1b155f8d デバイス ブート 始点 終点 ブロック Id システム /dev/sdc1 1 9436 75794638+ 83 Linux /dev/sdc2 9437 9497 489982+ 83 Linux /dev/sdc3 9498 19457 80003700 83 Linux /etc/fstab # /dev/sde1 /boot ext3 noauto,noatime 1 2 /dev/mapper/root / ext4 noatime 0 1 /dev/mapper/swap none swap sw 0 0 /dev/cdrom /mnt/cdrom auto noauto,ro 0 0 /dev/fd0 /mnt/floppy auto noauto 0 0 none /proc/sys/fs/binfmt_misc binfmt_misc defaults 0 0 /var/tmp/jail/portage /usr/portage none bind,rw 0 0 /var/tmp/jail/local-portage /usr/local/portage none bind,rw 0 0 /var/tmp/jail/distfiles /usr/portage/distfiles none bind,rw 0 0 Live CDの起動は、Grubで。 # # This is a sample grub.conf for use with Genkernel, per the Gentoo handbook # http://www.gentoo.org/doc/en/handbook/handbook-x86.xml?part=1\u0026amp;chap=10#doc_chap2 # If you are not using Genkernel and you need help creating this file, you # should consult the handbook. Alternatively, consult the grub.conf.sample that # is included with the Grub documentation. #color white/red black/red #splashimage=/boot/splash.xpm.gz splashimage=/boot/grub/bt4.xpm.gz default 0 timeout 30 password --md5 $1$jBaL5/$pIpowSTX5ip2pDXllzSd90 title=Gentoo Linux (2.6.31-pentoo-r2) root (hd0,0) kernel /boot/kernel-genkernel-x86-2.6.31-pentoo-r2 root=/dev/ram0 \\ crypt_root=/dev/sdc3 \\ ramdisk=8192 quiet CONSOLE=/dev/tty1 \\ resume=swap:/dev/mapper/swap init=/linuxrc initrd /boot/initramfs-genkernel-x86-2.6.31-pentoo-r2 # -- Backtrack4 title BT-4 root (hd0,0) kernel /boot/bt4/vmlinuz BOOT=casper boot=casper persistent rw quiet initrd /boot/bt4/initrd.gz title=USB stick Pentoo root (hd0,0) kernel /boot/kernel-genkernel-x86-2.6.31-pentoo-r2 root=/dev/ram0 \\ root=/dev/ram0 cdroot aufs \\ init=/linuxrc max_loop=256 nokeymap \\ looptype=squashfs loop=/image/root-20091113.squashfs initrd /boot/initramfs-genkernel-x86-2.6.31-pentoo-r2 #title USB stick Pentoo #root (hd0,0) #kernel /boot/pentoo/pentoo \\ # root=/dev/ram0 cdroot aufs changes=/dev/sde2 \\ # init=/linuxrc max_loop=256 nokeymap \\ # looptype=squashfs loop=/pentoo/image-2009.squashfs #initrd /boot/pentoo/pentoo.igz #title USB stick Pentoo #root (hd0,0) #kernel /boot/kernel-genkernel-x86-2.6.29-pentoo-r2 \\ # root=/dev/ram0 cdroot aufs changes=/dev/sdc2 \\ # init=/linuxrc max_loop=256 nokeymap \\ # looptype=squashfs loop=/pentoo/image.squashfs # #initrd /boot/initramfs-genkernel-x86-2.6.29-pentoo-r2 title grub-install lock install (hd0,0)/boot/grub/stage1 d (hd0) (hd0,0)/boot/grub/stage2 p (hd0,0)/boot/grub/grub.conf title Other Operating System - Microsoft Windows XP lock rootnoverify (hd0,0) makeactive chainloader +1 # vim:ft=conf: Live CDの作成は chroot環境で。 # CHROOT環境設定[[ http://github.com/ac1965/config-ac1965/blob/master/etc/skel/script/in.sh][]] []][[http://github.com/ac1965/config-ac1965/blob/master/etc/skel/script/chroot.sh] コンパイル用[[ http://github.com/ac1965/config-ac1965/blob/master/etc/skel/script/chroot.sh][]] []][[http://github.com/ac1965/config-ac1965/blob/master/etc/skel/script/out.sh] CHROOT解除 MAKE ROOT-IMAGE こんな感じで使います。CHROOTは私の環境では、\u0026quot;/var/tmp/jail/squashfs-root\u0026quot;\n# ./in.sh # cp chroot.sh ${CHROOT}/tmp # chroot ${CHROOT} /tmp/chroot.sh # ./out.sh # ./mkrootimg.sh ","date":"14 November 2009","externalUrl":null,"permalink":"/post/2009-7fbf-eb12/","section":"Posts","summary":"息子が iPod nano を買って今までのPCでは容量不足なので私のと交換することにした。 EeePC 901-X という少し古めのUMPCなので、外付けディスクを Linux用のディスクに割り当てた。 用途は Live CD作成 マシンかな。","title":"New PC","type":"post"},{"content":"","date":"1 January 0001","externalUrl":null,"permalink":"/authors/","section":"Authors","summary":"","title":"Authors","type":"authors"},{"content":"","date":"1 January 0001","externalUrl":null,"permalink":"/series/","section":"Series","summary":"","title":"Series","type":"series"}]